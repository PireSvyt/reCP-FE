{"version":3,"sources":["app/components/AppMenu.js","app/api/gets.js","app/api/sets.js","app/components/Snack.js","app/components/Ingredient.js","app/components/toolkit.js","app/components/uicomponents/uiingredient.js","app/components/uicomponents/uishelf.js","app/components/Ingredients.js","app/components/Shelf.js","app/components/Shelfs.js","app/components/Shop.js","app/components/Shops.js","app/components/Category.js","app/components/Categories.js","app/api/transaction.api.js","app/components/Transaction.js","app/api/balance.js","app/components/Balance.js","app/components/Myrecipies.js","app/components/Recipe.js","app/components/Thisweek.js","app/components/Fridge.js","app/components/Shopping.js","app/App.js","index.js"],"names":["AppMenu","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","console","log","call","language","state","open","handleClick","bind","_assertThisInitialized","handleClose","handleToggleDrawer","_createClass","key","value","_this2","_jsx","Box","sx","position","top","right","children","SwipeableDrawer","this","onClose","callback","onOpen","Paper","List","values","map","menuitem","ListItem","disablePadding","ListItemButton","onClick","ListItemText","primary","name","event","setState","prevState","React","axios","require","apiURL","process","_apiGetIngredient","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","res","_res","wrap","_context","prev","next","post","sent","abrupt","data","t0","status","message","ingredient","error","stop","apply","arguments","apiGetIngredients","_x2","_apiGetIngredients","_callee2","need","_res2","_context2","ingredients","_apiGetShelf","_callee3","_res3","_context3","shelf","_apiGetShelfs","_callee4","_res4","_context4","shelfs","_apiGetShop","_callee5","_res5","_context5","shop","apiGetShops","_x6","_apiGetShops","_callee6","_res6","_context6","shops","_apiGetRecipe","_callee7","_res7","_context7","recipe","apiGetRecipies","_x8","_apiGetRecipies","_callee8","_res8","_context8","recipies","apiGetCategories","_x10","_apiGetCategories","_callee10","_res10","_context10","categories","_apiSetIngredientSave","_apiSetShelfSave","_apiSetShopSave","_apiSetRecipeSave","_apiSetRecipeSelect","_apiSetRecipeDelete","_apiSetThisweekEmpty","_apiSetThisweekRecipeAdd","_apiSetThisweekRenew","_callee9","_res9","_context9","_apiSetThisweekRecipeReplace","_callee11","_res11","_context11","apiSetThisweekRecipeScale","_x9","_apiSetThisweekRecipeScale","_callee12","inc","_res12","_context12","apiSetThisweekRecipePrepare","_x11","_apiSetThisweekRecipePrepare","_callee13","_res13","_context13","_apiSetThisweekNeeds","_callee14","_res14","_context14","_apiSetFridgeEmpty","_callee15","_res15","_context15","_apiSetFridgeHave","_callee16","_res16","_context16","_id","_apiSetShoppingEmpty","_callee17","_res17","_context17","_apiSetShoppingTake","_callee18","_res18","_context18","_apiSetShoppingAddtofridge","_callee19","_res19","_context19","_apiSetCategorySave","_callee22","category","_res22","_context22","Alert","ref","MuiAlert","_objectSpread","elevation","variant","Snack","snack","duration","severity","FR","EN","Snackbar","autoHideDuration","width","newSnack","undefined","reason","emptyIngredient","unit","Ingredient","componentHeight","openSnack","updateComponentHeight","getShelfName","handleSave","handleChange","handleSnack","_jsxs","Dialog","fullWidth","DialogTitle","appcopy","DialogContent","height","display","flexDirection","justifyContent","TextField","label","onChange","autoComplete","Autocomplete","disablePortal","options","renderInput","params","renderOption","option","newValue","target","getOptionLabel","shorlist","filter","index","arr","length","DialogActions","Button","_this3","_x","apiGetIngredient","then","window","innerHeight","selectedshelf","forEach","_this4","previousIngredient","_this5","save","errors","push","apiSetIngredientSave","action","random_id","temp_id","Math","random","toString","substr","container","document","getElementById","UIIngredient","handleTake","packaging","alignItems","Typography","IconButton","ingredientid","EditIcon","Card","pl","pr","handleHave","quantity","available","CheckBoxIcon","CheckBoxOutlineBlankIcon","handleIncrement","disabled","RemoveIcon","textAlign","round","AddIcon","shopped","incement","UIShelf","handleCollapseDeploy","fontWeight","edge","color","mr","KeyboardArrowDownIcon","KeyboardArrowRightIcon","Ingredients","fullScreen","AppBar","Toolbar","CloseIcon","ml","flex","component","m","sublist","snackOpen","emptyShelf","Shelf","shopoptions","apiLoadShops","Select","multiple","input","OutlinedInput","renderValue","selected","names","indexOf","join","MenuItem","Checkbox","checked","_x3","apiGetShelf","previousShelf","includes","splice","apiSetShelfSave","Shelfs","shelfid","dense","concat","emptyShop","Shop","_x5","apiGetShop","previousShop","apiSetShopSave","Shops","shopid","Category","_x16","apiSetCategorySave","onclose","onedit","Categories","categoryid","config","_apiTransactionSave","transaction","_apiTransactionGetOne","_apiTransactionGetMany","transactions","emptyTransaction","date","Date","amount","by","for","Transaction","transactionDate","apiLoadCategories","LocalizationProvider","dateAdapter","AdapterDateFns","locale","frLocale","MobileDatePicker","onAccept","InputProps","startAdornment","InputAdornment","type","RadioGroup","FormControlLabel","control","Radio","FormGroup","transactionid","apiTransactionGetOne","previousTransaction","apiTransactionSave","_apiBalanceGet","balance","emptySummary","users","Alice","Pierre","Balance","selectedTab","tabHeight","transactionOpen","summary","transactionCategoryOpen","updateTabHeight","updateSummary","updateTransactions","handleChangeTab","handleOpenTransaction","handleCloseTransaction","handleOpenCategory","handleCloseCategory","handleSaveCategory","MoreVertIcon","borderBottom","borderColor","Tabs","Tab","TabPanel","style","maxHeight","overflow","Object","keys","total","secondary","Moment","format","balanceSnack","apiBalanceGet","_x4","apiTransactionGetMany","newTabIndex","updateBalance","other","_objectWithoutProperties","_excluded","role","hidden","p","Myrecipies","recipiesHeight","recipeID","recipeOpen","updateRecipiesHeight","recipeid","MyrecipiesRecipe","_React$Component2","_super2","handleSelect","handleOpen","portions","getEmptyComponent","uid","nextable","instructions","instruction","scale","cooked","Recipe","recipe_name","recipe_portions","ingredientoptions","openConfirm","confirmContent","title","text","handleDelete","handleIngredientDelete","handleIngredientChange","handleInstructionDelete","handleInstructionChange","handleCloseConfirm","handleConfirmDelete","apiLoadIngredients","DeleteIcon","SaveIcon","tmpRecipe","onchange","ondelete","Instruction","ConfirmModal","content","onconfirm","_x7","apiGetRecipe","newInstructions","newInstruction","previousRecipe","Number","JSON","parse","stringify","instructionList","apiSetRecipeSave","newIngredientValue","currentIngredients","newInstructionValue","currentInstructions","_this6","apiSetRecipeDelete","_this7","_this8","_this9","updatingIngredient","_React$Component3","_super3","_this10","_this11","updatingInstruction","_React$Component4","_super4","_this12","handleConfirm","DialogContentText","autoFocus","Thisweek","handleRemove","handleReplace","handleCook","handleScale","PlaylistAddIcon","ThisweekRecipe","command","increment","RestartAltIcon","AutoStoriesIcon","Fridge","updateFridgeHeight","handleEmpty","Shopping","listView","addingIngredient","treeCategories","updateShoppingHeight","handleAddtofridge","handleEnableAdd","handleListView","FormatListBulletedIcon","App","menulist","openMenu","openIngredient","openIngredients","openCategory","openCategories","openShelf","openShelfs","openShop","openShops","openRecipe","apiIngredients","apiShelfs","apiShops","apiCategories","apiMyrecipies","apiThisweekrecipies","apiThisweekingredients","api","handleMenu","handleIngredient","handleShelf","handleShop","handleCategory","handleRecipe","handleMyrecipies","handleThisweek","handleFridge","handleShopping","handleBalance","AppTabPanel","secondaryvalues","bottom","left","BottomNavigation","BottomNavigationAction","icon","BookIcon","EventIcon","KitchenIcon","ShoppingBagIcon","BalanceIcon","source","details","apiGetShelfs","previousIngredients","newIngredient","apiSetThisweekNeeds","tmpMyrecipies","tmpThisweekrecipies","i","apiSetRecipeSelect","apiSetThisweekEmpty","apiSetThisweekRenew","apiSetThisweekRecipeAdd","currentSelection","apiSetThisweekRecipeReplace","tmpList","item","apiSetFridgeEmpty","tmpITem","_x12","apiSetFridgeHave","apiSetShoppingEmpty","_x13","apiSetShoppingTake","apiSetShoppingAddtofridge","REACT_APP_SERVER_URL_PROD","REACT_APP_SERVER_URL_DEV","SELECTED_LANGUAGE","ReactDOM","render"],"mappings":"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","file":"static/js/main.a43f07c6.chunk.js","sourcesContent":["import * as React from \"react\";\r\nimport {\r\n  Paper,\r\n  Box,\r\n  List,\r\n  ListItem,\r\n  ListItemButton,\r\n  ListItemText,\r\n  SwipeableDrawer\r\n} from \"@mui/material\";\r\n\r\nexport default class AppMenu extends React.Component {\r\n  constructor(props) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"AppMenu.constructor\");\r\n    }\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"AppMenu language = \" + this.props.language);\r\n    }\r\n    this.state = {\r\n      open: false\r\n    };\r\n    // Handles\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleToggleDrawer = this.handleToggleDrawer.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"AppMenu.render\");\r\n    }\r\n    return (\r\n      <Box\r\n        sx={{\r\n          position: \"absolute\",\r\n          top: 20,\r\n          right: 20\r\n        }}\r\n      >\r\n        <SwipeableDrawer\r\n          open={this.props.open}\r\n          onClose={() => {\r\n            this.handleToggleDrawer();\r\n            this.props.callback(\"close\");\r\n          }}\r\n          onOpen={this.handleToggleDrawer}\r\n        >\r\n          <Paper>\r\n            <List>\r\n              {this.props.values.map((menuitem) => (\r\n                <ListItem key={menuitem.name} disablePadding>\r\n                  <ListItemButton\r\n                    onClick={() => {\r\n                      this.handleClose();\r\n                      menuitem.callback();\r\n                      this.props.callback(\"close\");\r\n                    }}\r\n                  >\r\n                    <ListItemText primary={menuitem.name} />\r\n                  </ListItemButton>\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n          </Paper>\r\n        </SwipeableDrawer>\r\n      </Box>\r\n    );\r\n  }\r\n  // Handles\r\n  handleClick(event) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"AppMenu.handleClick\");\r\n    }\r\n    this.setState((prevState, props) => ({\r\n      open: true\r\n    }));\r\n  }\r\n  handleClose(event) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"AppMenu.handleClose\");\r\n    }\r\n    this.setState((prevState, props) => ({\r\n      open: false\r\n    }));\r\n  }\r\n  handleToggleDrawer() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"AppMenu.handleToggleDrawer\");\r\n    }\r\n    this.setState((prevState, props) => ({\r\n      open: !prevState.open\r\n    }));\r\n  }\r\n}\r\n","const axios = require(\"axios\");\r\n\r\nlet apiURL = process.env.REACT_APP_SERVER_URL;\r\n\r\n// Ingredients\r\nexport async function apiGetIngredient(id) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/get/ingredient/item/\" + id);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiGetIngredient \" + id,\r\n      ingredient: {},\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiGetIngredients(need) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/get/ingredient/list\", need);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiGetIngredients \" + need,\r\n      ingredients: [],\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\n\r\n// Shelfs\r\nexport async function apiGetShelf(id) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/get/shelf/item/\" + id);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiGetShelf \" + id,\r\n      shelf: {},\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiGetShelfs(need) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/get/shelf/list\", need);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiGetShelfs \" + need,\r\n      shelfs: [],\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\n\r\n// Shops\r\nexport async function apiGetShop(id) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/get/shop/item/\" + id);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiGetShop \" + id,\r\n      shop: {},\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiGetShops(need) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/get/shop/list\", need);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiGetShops \" + need,\r\n      shops: [],\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\n\r\n// Recipies\r\nexport async function apiGetRecipe(id) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/get/recipe/item/\" + id);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiGetRecipe \" + id,\r\n      recipe: {},\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiGetRecipies(need) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/get/recipe/list\", need);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiGetRecipies \" + need,\r\n      recipies: [],\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\n\r\n// Categories\r\nexport async function apiGetCategory(id) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/get/category/item/\" + id);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiGetCategory \" + id,\r\n      category: {},\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiGetCategories(need) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/get/category/list\", need);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiGetCategories \" + need,\r\n      categories: [],\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\n","const axios = require(\"axios\");\r\n\r\nlet apiURL = process.env.REACT_APP_SERVER_URL;\r\n\r\n// Ingredients\r\nexport async function apiSetIngredientSave(ingredient) {\r\n  try {\r\n    const res = await axios.post(\r\n      apiURL + \"api/set/ingredient/save\",\r\n      ingredient,\r\n    );\r\n    return res.data;\r\n  } catch (err) {\r\n    let res = {\r\n      status: 400,\r\n      message: \"error on apiSetIngredientSave\",\r\n      error: err,\r\n      ingredient: ingredient,\r\n    };\r\n    return res;\r\n  }\r\n}\r\n\r\n// Shelfs\r\nexport async function apiSetShelfSave(shelf) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/set/shelf/save\", shelf);\r\n    return res.data;\r\n  } catch (err) {\r\n    let res = {\r\n      status: 400,\r\n      message: \"error on apiSetShelfSave\",\r\n      error: err,\r\n      shelf: shelf,\r\n    };\r\n    return res;\r\n  }\r\n}\r\n\r\n// Shops\r\nexport async function apiSetShopSave(shop) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/set/shop/save\", shop);\r\n    return res.data;\r\n  } catch (err) {\r\n    let res = {\r\n      status: 400,\r\n      message: \"error on apiSetShopSave\",\r\n      error: err,\r\n      shop: shop,\r\n    };\r\n    return res;\r\n  }\r\n}\r\n\r\n// Recipies\r\nexport async function apiSetRecipeSave(recipe) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/set/recipe/save\", recipe);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiSetRecipeSave\",\r\n      error: err,\r\n      recipe: recipe,\r\n    };\r\n    return res;\r\n  }\r\n}\r\nexport async function apiSetRecipeSelect(id) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/set/recipe/select/\" + id);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiSetRecipeSelect\",\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiSetRecipeDelete(id) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/set/recipe/delete/\" + id);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiSetRecipeDelete\",\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\n\r\n// Thisweek\r\nexport async function apiSetThisweekEmpty() {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/set/thisweek/empty\");\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiSetThisweekEmpty\",\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiSetThisweekRecipeAdd() {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/set/thisweek/add\");\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiSetThisweekRecipeAdd\",\r\n      error: err,\r\n    };\r\n    return res;\r\n  }\r\n}\r\nexport async function apiSetThisweekRenew() {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/set/thisweek/renew\");\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiSetThisweekRenew\",\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiSetThisweekRecipeRemove(id) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/set/recipe/select/\" + id);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiSetThisweekRecipeRemove\",\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiSetThisweekRecipeReplace(id) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/set/recipe/recplace/\" + id);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiSetThisweekRecipeReplace\",\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiSetThisweekRecipeScale(id, inc) {\r\n  try {\r\n    let res = await axios.post(\r\n      apiURL + \"api/set/recipe/scale\" + inc + \"/\" + id,\r\n    );\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiSetThisweekRecipeScale\",\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiSetThisweekRecipePrepare(id) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/set/recipe/prepare/\" + id);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiSetThisweekRecipePrepare\",\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiSetThisweekNeeds() {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/set/thisweek/needs\");\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiSetThisweekNeeds\",\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\n\r\n// Fridge\r\nexport async function apiSetFridgeEmpty() {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/set/fridge/empty\");\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiSetFridgeEmpty\",\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiSetFridgeHave(ingredient) {\r\n  try {\r\n    const res = await axios.post(\r\n      apiURL + \"api/set/fridge/have/\" + ingredient._id,\r\n      ingredient,\r\n    );\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiSetFridgeHave\",\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\n\r\n// Shopping\r\nexport async function apiSetShoppingEmpty() {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/set/shopping/empty\");\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiSetShoppingEmpty\",\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiSetShoppingTake(ingredient) {\r\n  try {\r\n    const res = await axios.post(\r\n      apiURL + \"api/set/shopping/take/\" + ingredient._id,\r\n      ingredient,\r\n    );\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiSetShoppingTake\",\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiSetShoppingAddtofridge() {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/set/shopping/addtofridge\");\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiSetShoppingAddtofridge\",\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\n\r\n// Transactions\r\nexport async function apiSetTransactionSave(transaction) {\r\n  try {\r\n    const res = await axios.post(\r\n      apiURL + \"api/set/transaction/save\",\r\n      transaction,\r\n    );\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiSetTransactionSave\",\r\n      error: err,\r\n      transaction: transaction,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiSetTransactionDelete(id) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/set/transaction/delete/\" + id);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiSetTransactionDelete\",\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\n\r\n// Categories\r\nexport async function apiSetCategorySave(category) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/set/category/save\", category);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiSetCategorySave\",\r\n      error: err,\r\n      category: category,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\n\r\n/*\r\n\r\n\r\n// TODO\r\n\r\nrouter.post(\"/thisweek/renew\", thisweekCtrl.renewSelection);\r\nrouter.post(\"/thisweek/empty\", thisweekCtrl.emptySelection);\r\nrouter.post(\"/thisweek/add\", thisweekCtrl.addRecipe);\r\nrouter.post(\"/thisweek/remove/:id\", thisweekCtrl.removeRecipe);\r\n\r\nrouter.post(\"/fridge/renew\", thisweekCtrl.renewSelection);\r\nrouter.post(\"/fridge/reset/:id\", thisweekCtrl.removeRecipe);\r\nrouter.post(\"/fridge/set/:id\", thisweekCtrl.removeRecipe);\r\n\r\nrouter.post(\"/shop/renew\", thisweekCtrl.renewSelection);\r\nrouter.post(\"/shop/reset/:id\", thisweekCtrl.removeRecipe);\r\nrouter.post(\"/shop/set/:id\", thisweekCtrl.removeRecipe);\r\n*/\r\n","import * as React from \"react\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport MuiAlert from \"@mui/material/Alert\";\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\n/*\r\nSEVERITY\r\nerror\r\nwarning\r\ninfo\r\nsuccess\r\n*/\r\n\r\nfunction getDymmySnack() {\r\n  return {\r\n    duration: 1000,\r\n    message: \"DUMMY SNACK MESSAGE\",\r\n    severity: \"warning\",\r\n    FR: \"DUMMY SNACK FR\",\r\n    EN: \"DUMMY SNACK EN\"\r\n  };\r\n}\r\n\r\nexport default class Snack extends React.Component {\r\n  constructor(props) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Snack.constructor\");\r\n    }\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Snack language = \" + this.props.language);\r\n    }\r\n    this.state = {\r\n      snack: getDymmySnack()\r\n    };\r\n    // Handles\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Snack.render\");\r\n    }\r\n    return (\r\n      <Snackbar\r\n        open={this.props.open}\r\n        autoHideDuration={this.state.snack.duration}\r\n        onClose={this.handleClose}\r\n      >\r\n        <Alert\r\n          onClose={this.handleClose}\r\n          severity={this.state.snack.severity}\r\n          sx={{ width: \"100%\" }}\r\n        >\r\n          {this.state.snack.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    );\r\n  }\r\n  componentDidUpdate(prevState) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Snack.componentDidUpdate\");\r\n      console.log(\"Snack.state\");\r\n      console.log(this.state);\r\n    }\r\n    if (prevState.snack !== this.props.snack) {\r\n      // Add optional inputs\r\n      var newSnack = this.props.snack;\r\n      if (newSnack !== undefined) {\r\n        if (newSnack.duration === undefined) {\r\n          newSnack.duration = 3000;\r\n        }\r\n        if (newSnack.severity === undefined) {\r\n          newSnack.severity = \"info\";\r\n        }\r\n        if (newSnack.message === undefined) {\r\n          newSnack.message = newSnack[this.props.language];\r\n        }\r\n        this.setState((prevState, props) => ({\r\n          snack: newSnack\r\n        }));\r\n      }\r\n    }\r\n  }\r\n\r\n  // Handles\r\n  handleClose(event, reason) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Snack.handleClose\");\r\n    }\r\n    if (reason !== \"clickaway\") {\r\n      this.props.callback(\"close\");\r\n    }\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport {\r\n  Button,\r\n  TextField,\r\n  Box,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Autocomplete\r\n} from \"@mui/material\";\r\n\r\nimport appcopy from \"../copy\";\r\nimport { apiGetIngredient } from \"../api/gets\";\r\nimport { apiSetIngredientSave } from \"../api/sets\";\r\nimport Snack from \"./Snack\";\r\n\r\nlet emptyIngredient = {\r\n  _id: undefined,\r\n  name: undefined,\r\n  unit: undefined,\r\n  category: undefined,\r\n  shelf: undefined\r\n};\r\n\r\nexport default class Ingredient extends React.Component {\r\n  constructor(props) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredient.constructor\");\r\n    }\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredient language = \" + this.props.language);\r\n    }\r\n    this.state = {\r\n      ingredient: { ...emptyIngredient },\r\n      shelf: \"\",\r\n      componentHeight: undefined,\r\n      openSnack: false,\r\n      snack: undefined\r\n    };\r\n    // Updates\r\n    this.updateComponentHeight = this.updateComponentHeight.bind(this);\r\n    // Utils\r\n    this.getShelfName = this.getShelfName.bind(this);\r\n    // Handles\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleSave = this.handleSave.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSnack = this.handleSnack.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredient.render\");\r\n    }\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          id=\"dialog_transaction\"\r\n          open={this.props.open}\r\n          onClose={this.handleClose}\r\n          fullWidth={true}\r\n        >\r\n          <DialogTitle>\r\n            {appcopy[\"ingredient\"][\"title\"][this.props.language]}\r\n          </DialogTitle>\r\n          <DialogContent\r\n            sx={{\r\n              height: this.state.componentHeight\r\n            }}\r\n          >\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                justifyContent: \"space-evenly\"\r\n              }}\r\n            >\r\n              <TextField\r\n                name=\"name\"\r\n                label={appcopy[\"generic\"][\"input\"][\"name\"][this.props.language]}\r\n                variant=\"standard\"\r\n                value={this.state.ingredient.name || \"\"}\r\n                onChange={this.handleChange}\r\n                autoComplete=\"off\"\r\n              />\r\n              <TextField\r\n                name=\"unit\"\r\n                label={appcopy[\"generic\"][\"input\"][\"unit\"][this.props.language]}\r\n                variant=\"standard\"\r\n                value={this.state.ingredient.unit || \"\"}\r\n                onChange={this.handleChange}\r\n                autoComplete=\"off\"\r\n              />\r\n              <Autocomplete\r\n                sx={{\r\n                  width: \"100%\"\r\n                }}\r\n                disablePortal\r\n                options={this.props.shelfs}\r\n                renderInput={(params) => (\r\n                  <TextField\r\n                    {...params}\r\n                    variant=\"standard\"\r\n                    label={\r\n                      appcopy[\"generic\"][\"input\"][\"shelf\"][this.props.language]\r\n                    }\r\n                  />\r\n                )}\r\n                renderOption={(props, option) => (\r\n                  <li {...props}>{option.name}</li>\r\n                )}\r\n                value={this.state.shelf}\r\n                onChange={(event, newValue) => {\r\n                  event.target = {\r\n                    name: \"shelf\",\r\n                    value: newValue\r\n                  };\r\n                  this.handleChange(event, newValue);\r\n                }}\r\n                getOptionLabel={(option) => {\r\n                  var shorlist = this.props.shelfs.filter(function (\r\n                    value,\r\n                    index,\r\n                    arr\r\n                  ) {\r\n                    if (typeof option === \"string\") {\r\n                      return value.name === option;\r\n                    } else {\r\n                      return value.name === option.name;\r\n                    }\r\n                  });\r\n                  if (shorlist.length === 1) {\r\n                    return shorlist[0].name;\r\n                  } else {\r\n                    return \"\";\r\n                  }\r\n                }}\r\n              />\r\n              TODO : season\r\n            </Box>\r\n          </DialogContent>\r\n\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose}>\r\n              {appcopy[\"generic\"][\"button\"][\"cancel\"][this.props.language]}\r\n            </Button>\r\n            <Button variant=\"contained\" onClick={this.handleSave}>\r\n              {appcopy[\"generic\"][\"button\"][\"save\"][this.props.language]}\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Snack\r\n          open={this.state.openSnack}\r\n          snack={this.state.snack}\r\n          callback={this.handleSnack}\r\n          language={this.props.language}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      //console.log(\"Ingredient.componentDidMount\");\r\n    }\r\n    this.updateComponentHeight();\r\n  }\r\n  componentDidUpdate(prevState) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      //console.log(\"Ingredient.componentDidUpdate\");\r\n      //console.log(\"Ingredient.state\");\r\n      //console.log(this.state);\r\n    }\r\n    if (\r\n      prevState.open !== this.props.open ||\r\n      prevState.ingredient !== this.props.ingredient\r\n    ) {\r\n      if (this.props.ingredient !== \"\") {\r\n        // Load\r\n        apiGetIngredient(this.props.ingredient).then((res) => {\r\n          switch (res.status) {\r\n            case 200:\r\n              console.log(\"loaded ingredient\");\r\n              console.log(res.ingredient);\r\n              this.setState({\r\n                ingredient: res.ingredient,\r\n                shelf: this.getShelfName(res.ingredient.shelf)\r\n              });\r\n              break;\r\n            case 400:\r\n              this.setState((prevState, props) => ({\r\n                ingredient: emptyIngredient,\r\n                shelf: \"\",\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n              }));\r\n              this.props.callback(\"closeItem\");\r\n              break;\r\n            default:\r\n              this.setState((prevState, props) => ({\r\n                ingredient: emptyIngredient,\r\n                shelf: \"\",\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errorunknown\"]\r\n              }));\r\n              this.props.callback(\"closeItem\");\r\n          }\r\n        });\r\n      } else {\r\n        this.setState((prevState, props) => ({\r\n          ingredient: { ...emptyIngredient },\r\n          shelf: \"\"\r\n        }));\r\n      }\r\n    }\r\n  }\r\n\r\n  // Updates\r\n  updateComponentHeight() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Thisweek.updateComponentHeight\");\r\n    }\r\n    this.setState({\r\n      componentHeight: window.innerHeight - 115\r\n    });\r\n  }\r\n\r\n  // Utils\r\n  getShelfName(id) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredient.getShelfName : \" + id);\r\n    }\r\n    let selectedshelf = \"\";\r\n    this.props.shelfs.forEach((shelf) => {\r\n      if (id === shelf._id) {\r\n        selectedshelf = shelf.name;\r\n      }\r\n    });\r\n    //console.log(\"shelf\");\r\n    //console.log(shelf);\r\n    return selectedshelf;\r\n  }\r\n\r\n  // Handles\r\n  handleClose() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredient.handleClose\");\r\n    }\r\n    this.setState((prevState, props) => ({\r\n      ingredient: { ...emptyIngredient },\r\n      shelf: \"\",\r\n      openSnack: true,\r\n      snack: appcopy[\"ingredient\"][\"snack\"][\"discarded\"]\r\n    }));\r\n    this.props.callback(\"closeItem\");\r\n  }\r\n  handleChange(event, newValue) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredient.handleChange\");\r\n    }\r\n    const target = event.target;\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"target.name : \" + target.name);\r\n      console.log(\"target.value : \" + target.value);\r\n      console.log(\"newValue : \" + newValue);\r\n    }\r\n    var previousIngredient = this.state.ingredient;\r\n    switch (target.name) {\r\n      case \"name\":\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"change name : \" + target.value);\r\n        }\r\n        previousIngredient.name = target.value;\r\n        break;\r\n      case \"unit\":\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"change unit : \" + target.value);\r\n        }\r\n        previousIngredient.unit = target.value;\r\n        break;\r\n      case \"shelf\":\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"change shelf : \" + target.value._id);\r\n        }\r\n        previousIngredient.shelf = target.value._id;\r\n        break;\r\n      default:\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"/!\\\\ no match : \" + target.name);\r\n        }\r\n    }\r\n    // Update\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredient.ingredient\");\r\n      console.log(this.state.ingredient);\r\n    }\r\n    this.setState((prevState, props) => ({\r\n      ingredient: previousIngredient,\r\n      shelf: this.getShelfName(previousIngredient.shelf)\r\n    }));\r\n  }\r\n  handleSave() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredient.handleSave\");\r\n      console.log(\"this.state.ingredient\");\r\n      console.log(this.state.ingredient);\r\n    }\r\n    // Check inputs\r\n    let save = true;\r\n    let errors = [];\r\n    if (this.state.ingredient.name === undefined) {\r\n      save = false;\r\n      errors.push(\" Nom vide\");\r\n    }\r\n    if (this.state.ingredient.unit === undefined) {\r\n      save = false;\r\n      errors.push(\" Unit vide\");\r\n    }\r\n    // Save or not?\r\n    if (errors !== [] && process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(errors);\r\n    }\r\n    // Post or publish\r\n    if (save === true) {\r\n      if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n        console.log(this.props.ingredient);\r\n        console.log(this.state.ingredient);\r\n      }\r\n      apiSetIngredientSave(this.state.ingredient).then((res) => {\r\n        switch (res.status) {\r\n          case 201:\r\n            //console.log(\"default\");\r\n            this.setState({\r\n              ingredient: emptyIngredient,\r\n              shelf: \"\",\r\n              openSnack: true,\r\n              snack: appcopy[\"ingredient\"][\"snack\"][\"saved\"]\r\n            });\r\n            this.props.callback(\"closeItem\");\r\n            break;\r\n          case 200:\r\n            //console.log(\"modified\");\r\n            this.setState((prevState, props) => ({\r\n              ingredient: emptyIngredient,\r\n              shelf: \"\",\r\n              openSnack: true,\r\n              snack: appcopy[\"ingredient\"][\"snack\"][\"edited\"]\r\n            }));\r\n            this.props.callback(\"closeItem\");\r\n            break;\r\n          case 208: // Already reported https://en.wikipedia.org/wiki/List_of_HTTP_status_codes#4xx_client_errors\r\n            //console.log(\"name unicity violation\");\r\n            this.setState({\r\n              openSnack: true,\r\n              snack: appcopy[\"ingredient\"][\"snack\"][\"conflict\"]\r\n            });\r\n            break;\r\n          case 400:\r\n            //console.log(\"error\");\r\n            //console.log(res);\r\n            this.setState({\r\n              openSnack: true,\r\n              snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n            });\r\n            break;\r\n          default:\r\n            //console.log(\"default\");\r\n            this.setState((prevState, props) => ({\r\n              openSnack: true,\r\n              snack: appcopy[\"generic\"][\"snack\"][\"errorunknown\"]\r\n            }));\r\n        }\r\n      });\r\n    } else {\r\n      // Snack\r\n      var snack = appcopy[\"generic\"][\"snack\"][\"error\"];\r\n      snack.message =\r\n        appcopy[\"generic\"][\"snack\"][\"error\"][this.props.language] + errors;\r\n      this.setState((prevState, props) => ({\r\n        openSnack: true,\r\n        snack: snack\r\n      }));\r\n    }\r\n  }\r\n  handleSnack(action) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredient.handleSnack \" + action);\r\n    }\r\n    switch (action) {\r\n      case \"close\":\r\n        this.setState((prevState, props) => ({\r\n          openSnack: false\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n}\r\n","// TOOLKIT\r\n\r\nexport function random_id(length = 8) {\r\n  // TESTED\r\n  var temp_id = Math.random().toString(16).substr(2, length);\r\n  var container = document.getElementById(temp_id);\r\n  while (container != null) {\r\n    temp_id = Math.random().toString(16).substr(2, length);\r\n    container = document.getElementById(temp_id);\r\n  }\r\n  return temp_id;\r\n}\r\n\r\nexport function list_from_dict(dict, field) {\r\n  // TESTED\r\n  var list = [];\r\n  for (const [key, content] of Object.entries(dict)) {\r\n    list.push(content[field]);\r\n  }\r\n  return list;\r\n}\r\n\r\nexport function get_key_from_dict_field_value(dict, field, value) {\r\n  // TESTED\r\n  for (const [key, content] of Object.entries(dict)) {\r\n    if (content[field] === value) {\r\n      return key;\r\n    }\r\n  }\r\n  return undefined;\r\n}\r\n\r\nexport function dict_sorter(dict, field, filters = []) {\r\n  // TESTED\r\n  var sorter = undefined;\r\n  if (dict === undefined) {\r\n    return undefined;\r\n  } else {\r\n    if (filters.length > 0) {\r\n      sorter = [];\r\n      for (const [key, val] of Object.entries(dict)) {\r\n        var addItem = true;\r\n        for (const [filter_field, filter_value, filter_test] of filters) {\r\n          switch (filter_test) {\r\n            case \"==\":\r\n              if (filter_value !== val[filter_field]) {\r\n                addItem = false;\r\n                break;\r\n              }\r\n              break;\r\n            case \"!=\":\r\n              if (filter_value === val[filter_field]) {\r\n                addItem = false;\r\n                break;\r\n              }\r\n              break;\r\n            default:\r\n              console.error(\r\n                \"@dict_sorter, switch filter_test not recognised : \" +\r\n                  filter_test\r\n              );\r\n          }\r\n        }\r\n        if (addItem) {\r\n          sorter.push(key);\r\n        }\r\n      }\r\n    } else {\r\n      sorter = Object.keys(dict);\r\n    }\r\n    for (var i = 0; i < sorter.length; i++) {\r\n      var minIdx = i;\r\n      for (var j = i + 1; j < sorter.length; j++) {\r\n        switch (typeof dict[sorter[j]][field]) {\r\n          case \"number\":\r\n            if (dict[sorter[j]][field] < dict[sorter[minIdx]][field]) {\r\n              minIdx = j;\r\n            }\r\n            break;\r\n          case \"string\":\r\n            if (dict[sorter[j]][field] < dict[sorter[minIdx]][field]) {\r\n              minIdx = j;\r\n            }\r\n            break;\r\n          default:\r\n            console.error(\r\n              \"ERROR dict_sorter type not supported (unsorted outcome)\"\r\n            );\r\n            return Object.keys(dict);\r\n        }\r\n      }\r\n      if (minIdx > i) {\r\n        var temp_key = sorter[i];\r\n        sorter.splice(i, 1, sorter[minIdx]);\r\n        sorter.splice(minIdx, 1, temp_key);\r\n      }\r\n    }\r\n  }\r\n  return sorter;\r\n}\r\n\r\nexport function dict_count_values(dict, field, value) {\r\n  // TESTED\r\n  var counter = 0;\r\n  for (const [key, content] of Object.entries(dict)) {\r\n    if (content[field] === value) {\r\n      counter += 1;\r\n    }\r\n  }\r\n  return counter;\r\n}\r\n","import * as React from \"react\";\r\nimport {\r\n  IconButton,\r\n  Typography,\r\n  Box,\r\n  Card,\r\n  ListItem,\r\n  ListItemButton,\r\n  ListItemText\r\n} from \"@mui/material\";\r\nimport CheckBoxIcon from \"@mui/icons-material/CheckBox\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport RemoveIcon from \"@mui/icons-material/Remove\";\r\nimport CheckBoxOutlineBlankIcon from \"@mui/icons-material/CheckBoxOutlineBlank\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\n\r\nimport { random_id } from \"../toolkit\";\r\n\r\nexport default class UIIngredient extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"UIIngredient.constructor \" + this.props.ingredient._id);\r\n    }\r\n    // Utils\r\n    this.getShelfName = this.getShelfName.bind(this);\r\n    // Handlers\r\n    this.handleTake = this.handleTake.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"UIIngredient.render \" + this.props.ingredient._id);\r\n    }\r\n    switch (this.props.packaging) {\r\n      case \"ingredients\":\r\n        return (\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\"\r\n            }}\r\n          >\r\n            <Typography>{this.props.ingredient.name}</Typography>\r\n            <IconButton\r\n              onClick={() => {\r\n                if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                  console.log(\r\n                    \"Ingredients.ingredients.onClick \" +\r\n                      this.props.ingredient._id\r\n                  );\r\n                }\r\n                this.props.callback(\"openItem\", {\r\n                  ingredientid: this.props.ingredient._id\r\n                });\r\n              }}\r\n            >\r\n              <EditIcon />\r\n            </IconButton>\r\n          </Box>\r\n        );\r\n      case \"fridge\":\r\n        return (\r\n          <Card sx={{ width: \"100%\", pl: \"1em\", pr: \"1em\" }}>\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                justifyContent: \"space-between\",\r\n                alignItems: \"center\"\r\n              }}\r\n            >\r\n              <Typography>{this.props.ingredient.name}</Typography>\r\n              <IconButton\r\n                onClick={() => {\r\n                  this.handleHave();\r\n                }}\r\n              >\r\n                {this.props.ingredient.quantity <=\r\n                  this.props.ingredient.available && <CheckBoxIcon />}\r\n                {(this.props.ingredient.quantity >\r\n                  this.props.ingredient.available ||\r\n                  this.props.ingredient.available === undefined) && (\r\n                  <CheckBoxOutlineBlankIcon />\r\n                )}\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\"\r\n              }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  this.handleIncrement(\"down\");\r\n                }}\r\n                disabled={true}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <Typography sx={{ width: \"8em\", textAlign: \"center\" }}>\r\n                {(Math.round(this.props.ingredient.available * 10) / 10 || 0) +\r\n                  \" / \" +\r\n                  Math.round(this.props.ingredient.quantity * 10) / 10 +\r\n                  \" \" +\r\n                  this.props.ingredient.unit}\r\n              </Typography>\r\n              <IconButton\r\n                onClick={() => {\r\n                  this.handleIncrement(\"up\");\r\n                }}\r\n                disabled={true}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Card>\r\n        );\r\n      case \"shopping\":\r\n        return (\r\n          <Card sx={{ width: \"100%\", pl: \"1em\", pr: \"1em\" }}>\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                justifyContent: \"space-between\",\r\n                alignItems: \"center\"\r\n              }}\r\n            >\r\n              <Typography>{this.props.ingredient.name}</Typography>\r\n              <Box\r\n                sx={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"row\",\r\n                  justifyContent: \"space-between\",\r\n                  alignItems: \"center\"\r\n                }}\r\n              >\r\n                <Typography sx={{ textAlign: \"right\", pr: \"1em\" }}>\r\n                  {Math.round(\r\n                    (this.props.ingredient.quantity -\r\n                      (this.props.ingredient.available || 0)) *\r\n                      10\r\n                  ) /\r\n                    10 +\r\n                    \" \" +\r\n                    this.props.ingredient.unit}\r\n                </Typography>\r\n                <IconButton\r\n                  onClick={() => {\r\n                    this.handleTake();\r\n                  }}\r\n                >\r\n                  {this.props.ingredient.quantity -\r\n                    (this.props.ingredient.available || 0) <=\r\n                    (this.props.ingredient.shopped || 0) && <CheckBoxIcon />}\r\n                  {this.props.ingredient.quantity -\r\n                    (this.props.ingredient.available || 0) >\r\n                    (this.props.ingredient.shopped || 0) && (\r\n                    <CheckBoxOutlineBlankIcon />\r\n                  )}\r\n                </IconButton>\r\n              </Box>\r\n            </Box>\r\n          </Card>\r\n        );\r\n      default:\r\n        return (\r\n          <Card sx={{ width: \"100%\", pl: \"1em\", pr: \"1em\" }}>\r\n            <Typography>Something went wrong</Typography>\r\n          </Card>\r\n        );\r\n    }\r\n  }\r\n\r\n  // Utils\r\n  getShelfName(id) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"UIIngredient.getShelfName : \" + id);\r\n    }\r\n    let selectedshelf = \"\";\r\n    this.props.shelfs.forEach((shelf) => {\r\n      if (id === shelf._id) {\r\n        selectedshelf = shelf.name;\r\n      }\r\n    });\r\n    //console.log(\"shelf\");\r\n    //console.log(shelf);\r\n    return selectedshelf;\r\n  }\r\n\r\n  // Handles\r\n  handleTake() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"UIIngredient.handleTake \" + this.props.ingredient._id);\r\n    }\r\n    this.props.callback(\"take\", { ingredientid: this.props.ingredient._id });\r\n  }\r\n  handleHave() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"UIIngredient.handleHave \" + this.props.ingredient._id);\r\n    }\r\n    this.props.callback(\"have\", { ingredientid: this.props.ingredient._id });\r\n  }\r\n  handleIncrement(newValue) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\r\n        \"UIIngredient.handleIncrement \" +\r\n          newValue +\r\n          \" \" +\r\n          this.props.ingredient._id\r\n      );\r\n    }\r\n    this.props.callback(\"scale\", {\r\n      ingredientid: this.props.ingredient._id,\r\n      incement: newValue\r\n    });\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport { ListItem, IconButton, Typography, Box } from \"@mui/material\";\r\nimport KeyboardArrowRightIcon from \"@mui/icons-material/KeyboardArrowRight\";\r\nimport KeyboardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\r\n\r\nimport { random_id } from \"../toolkit\";\r\n\r\nimport UIIngredient from \"./uiingredient\";\r\n\r\nexport default class UIShelf extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"UIShelf.constructor\");\r\n    }\r\n    this.state = {\r\n      open: \"block\"\r\n    };\r\n    // Handlers\r\n    this.handleCollapseDeploy = this.handleCollapseDeploy.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"UIShelf.render \" + this.props.shelf);\r\n    }\r\n    return (\r\n      <Box>\r\n        <Box\r\n          sx={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"space-between\"\r\n          }}\r\n        >\r\n          <Typography sx={{ fontWeight: \"bold\" }}>\r\n            {this.props.shelf}\r\n          </Typography>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            onClick={() => {\r\n              if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                console.log(\"UIShelf.collapsedeploy.onClick\");\r\n              }\r\n              this.handleCollapseDeploy();\r\n            }}\r\n            sx={{ mr: \"0.25em\" }}\r\n          >\r\n            {this.state.open === \"block\" && <KeyboardArrowDownIcon />}\r\n            {this.state.open !== \"block\" && <KeyboardArrowRightIcon />}\r\n          </IconButton>\r\n        </Box>\r\n        <Box sx={{ display: this.state.open }}>\r\n          {this.props.ingredients.map((ingredient) => {\r\n            //console.log(\"ingredient\");\r\n            //console.log(ingredient);\r\n            return (\r\n              <ListItem key={ingredient._id + \"-\" + random_id()}>\r\n                <UIIngredient\r\n                  ingredient={ingredient}\r\n                  callback={this.props.callback}\r\n                  packaging={this.props.packaging}\r\n                  shelfs={this.props.shelfs}\r\n                />\r\n              </ListItem>\r\n            );\r\n          })}\r\n        </Box>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  // Handles\r\n  handleCollapseDeploy() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"UIShelf.handleCollapseDeploy \");\r\n    }\r\n    if (this.state.open === \"none\") {\r\n      this.setState((prevState, props) => ({\r\n        open: \"block\"\r\n      }));\r\n    } else {\r\n      this.setState((prevState, props) => ({\r\n        open: \"none\"\r\n      }));\r\n    }\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  Typography,\r\n  Box\r\n} from \"@mui/material\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\n\r\nimport appcopy from \"../copy\";\r\nimport Snack from \"./Snack\";\r\nimport UIShelf from \"./uicomponents/uishelf\";\r\n\r\nexport default class Ingredients extends React.Component {\r\n  constructor(props) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredients.constructor\");\r\n    }\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredients language = \" + this.props.language);\r\n    }\r\n    this.state = {\r\n      open: false,\r\n      openSnack: false\r\n    };\r\n    // Utils\r\n    this.getShelfName = this.getShelfName.bind(this);\r\n    // Handles\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleSnack = this.handleSnack.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredients.render\");\r\n    }\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          id=\"dialog_ingredients\"\r\n          open={this.props.open}\r\n          onClose={this.handleClose}\r\n          fullScreen\r\n        >\r\n          <AppBar sx={{ position: \"relative\" }}>\r\n            <Toolbar>\r\n              <IconButton\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n                onClick={this.handleClose}\r\n                aria-label=\"close\"\r\n              >\r\n                <CloseIcon />\r\n              </IconButton>\r\n              <Typography sx={{ ml: 2, flex: 1 }} variant=\"h6\" component=\"div\">\r\n                {appcopy[\"ingredients\"][\"title\"][this.props.language]}\r\n              </Typography>\r\n              <IconButton\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n                onClick={() => {\r\n                  if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                    console.log(\"Ingredients.AddIcon.onClick\");\r\n                  }\r\n                  this.props.callback(\"openItem\", { ingredientid: \"\" });\r\n                }}\r\n                sx={{ m: 1 }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Toolbar>\r\n          </AppBar>\r\n          <DialogContent>\r\n            <Box>\r\n              <UIShelf\r\n                shelf={\"???\"}\r\n                ingredients={this.props.ingredients.filter((ingredient) => {\r\n                  //console.log(\" ingredient.shelf : \" + ingredient.shelf);\r\n                  return (\r\n                    ingredient.shelf === undefined || ingredient.shelf === \"\"\r\n                  );\r\n                })}\r\n                shelfs={this.props.shelfs}\r\n                callback={this.props.callback}\r\n                packaging=\"ingredients\"\r\n              />\r\n              {this.props.shelfs.map((shelf) => {\r\n                //console.log(this.props.tertiaryingredients);\r\n                //console.log(\"SHELF : \" + shelf.name);\r\n                // filter\r\n                function filter(ingredient) {\r\n                  //console.log(ingredient);\r\n                  let status = true;\r\n                  //console.log(status);\r\n                  return status;\r\n                }\r\n                //console.log(\"this.props.ingredients : \");\r\n                //console.log(this.props.ingredients);\r\n                let sublist = this.props.ingredients.filter((ingredient) => {\r\n                  return filter(ingredient) && ingredient.shelf === shelf._id;\r\n                });\r\n                //console.log(\"sublist : \");\r\n                //console.log(sublist);\r\n                return (\r\n                  <UIShelf\r\n                    shelf={shelf.name}\r\n                    ingredients={sublist}\r\n                    shelfs={this.props.shelfs}\r\n                    callback={this.props.callback}\r\n                    packaging=\"ingredients\"\r\n                  />\r\n                );\r\n              })}\r\n            </Box>\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n        <Snack\r\n          language={this.props.language}\r\n          open={this.state.snackOpen}\r\n          snack={this.state.snack}\r\n          callback={this.handleSnack}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredients.componentDidMount\");\r\n    }\r\n  }\r\n  componentDidUpdate(prevState) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      //console.log(\"Ingredients.componentDidUpdate\");\r\n    }\r\n    if (prevState.open !== this.props.open && this.props.open) {\r\n      // Update\r\n    }\r\n  }\r\n\r\n  // Utils\r\n  getShelfName(id) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredient.getShelfName : \" + id);\r\n    }\r\n    let selectedshelf = \"\";\r\n    this.props.shelfs.forEach((shelf) => {\r\n      if (id === shelf._id) {\r\n        selectedshelf = shelf.name;\r\n      }\r\n    });\r\n    //console.log(\"shelf\");\r\n    //console.log(shelf);\r\n    return selectedshelf;\r\n  }\r\n\r\n  // Handles\r\n  handleClose() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredients.handleClose\");\r\n    }\r\n    this.props.callback(\"closeList\");\r\n  }\r\n  handleSnack(action) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredients.handleSnack \" + action);\r\n    }\r\n    switch (action) {\r\n      case \"close\":\r\n        this.setState((prevState, props) => ({\r\n          openSnack: false\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport {\r\n  Button,\r\n  TextField,\r\n  Box,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Select,\r\n  OutlinedInput,\r\n  ListItemText,\r\n  Checkbox,\r\n  MenuItem\r\n} from \"@mui/material\";\r\n\r\nimport appcopy from \"../copy\";\r\nimport { apiGetShelf, apiGetShops } from \"../api/gets\";\r\nimport { apiSetShelfSave } from \"../api/sets\";\r\nimport Snack from \"./Snack\";\r\n\r\nlet emptyShelf = {\r\n  _id: undefined,\r\n  name: undefined,\r\n  shops: []\r\n};\r\n\r\nexport default class Shelf extends React.Component {\r\n  constructor(props) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shelf.constructor\");\r\n    }\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shelf language = \" + this.props.language);\r\n    }\r\n    this.state = {\r\n      componentHeight: undefined,\r\n      shelf: { ...emptyShelf },\r\n      shopoptions: [],\r\n      openSnack: false,\r\n      snack: undefined\r\n    };\r\n    // Updates\r\n    this.updateComponentHeight = this.updateComponentHeight.bind(this);\r\n    // Handles\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleSave = this.handleSave.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSnack = this.handleSnack.bind(this);\r\n    // API\r\n    this.apiLoadShops = this.apiLoadShops.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shelf.render\");\r\n    }\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          id=\"dialog_transaction\"\r\n          open={this.props.open}\r\n          onClose={this.handleClose}\r\n          fullWidth={true}\r\n        >\r\n          <DialogTitle>\r\n            {appcopy[\"shelf\"][\"title\"][this.props.language]}\r\n          </DialogTitle>\r\n          <DialogContent\r\n            sx={{\r\n              height: this.state.componentHeight\r\n            }}\r\n          >\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                justifyContent: \"space-evenly\"\r\n              }}\r\n            >\r\n              <TextField\r\n                name=\"name\"\r\n                label={appcopy[\"generic\"][\"input\"][\"name\"][this.props.language]}\r\n                variant=\"standard\"\r\n                value={this.state.shelf.name || \"\"}\r\n                onChange={this.handleChange}\r\n                autoComplete=\"off\"\r\n              />\r\n              <Select\r\n                multiple\r\n                value={this.state.shelf.shops}\r\n                onChange={(event, newValue) => {\r\n                  //console.log(\"event.target\");\r\n                  //console.log(event.target);\r\n                  //console.log(\"newValue.props.value\");\r\n                  //console.log(newValue.props.value);\r\n                  event.target = {\r\n                    name: \"shops\",\r\n                    value: newValue.props.value\r\n                  };\r\n                  this.handleChange(event, newValue.props.value);\r\n                }}\r\n                input={\r\n                  <OutlinedInput\r\n                    label={\r\n                      appcopy[\"generic\"][\"input\"][\"shop\"][this.props.language]\r\n                    }\r\n                  />\r\n                }\r\n                renderValue={(selected) => {\r\n                  let names = [];\r\n                  this.state.shopoptions.forEach((option) => {\r\n                    if (selected.indexOf(option._id) >= 0) {\r\n                      names.push(option.name);\r\n                    }\r\n                  });\r\n                  //console.log(\"names\");\r\n                  //console.log(names);\r\n                  return names.join(\", \");\r\n                }}\r\n              >\r\n                {this.state.shopoptions.map((shop) => (\r\n                  <MenuItem key={shop._id} value={shop._id}>\r\n                    <Checkbox\r\n                      checked={this.state.shelf.shops.indexOf(shop._id) > -1}\r\n                    />\r\n                    <ListItemText primary={shop.name} />\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </Box>\r\n          </DialogContent>\r\n\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose}>\r\n              {appcopy[\"generic\"][\"button\"][\"cancel\"][this.props.language]}\r\n            </Button>\r\n            <Button variant=\"contained\" onClick={this.handleSave}>\r\n              {appcopy[\"generic\"][\"button\"][\"save\"][this.props.language]}\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Snack\r\n          open={this.state.openSnack}\r\n          snack={this.state.snack}\r\n          callback={this.handleSnack}\r\n          language={this.props.language}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      //console.log(\"Shelf.componentDidMount\");\r\n    }\r\n    this.updateComponentHeight();\r\n  }\r\n  componentDidUpdate(prevState) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      //console.log(\"Shelf.componentDidUpdate\");\r\n      //console.log(\"Shelf.state\");\r\n      //console.log(this.state);\r\n    }\r\n    if (\r\n      prevState.open !== this.props.open ||\r\n      prevState.shelf !== this.props.shelf\r\n    ) {\r\n      this.apiLoadShops();\r\n      if (this.props.shelf !== \"\") {\r\n        // Load\r\n        apiGetShelf(this.props.shelf).then((res) => {\r\n          switch (res.status) {\r\n            case 200:\r\n              this.setState({\r\n                shelf: res.shelf\r\n              });\r\n              break;\r\n            case 400:\r\n              this.setState((prevState, props) => ({\r\n                shelf: emptyShelf,\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n              }));\r\n              this.props.callback(\"closeItem\");\r\n              break;\r\n            default:\r\n              this.setState((prevState, props) => ({\r\n                shelf: emptyShelf,\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errorunknown\"]\r\n              }));\r\n              this.props.callback(\"closeItem\");\r\n          }\r\n        });\r\n      } else {\r\n        this.setState((prevState, props) => ({\r\n          shelf: { ...emptyShelf }\r\n        }));\r\n      }\r\n    }\r\n  }\r\n\r\n  // Updates\r\n  updateComponentHeight() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Thisweek.updateComponentHeight\");\r\n    }\r\n    this.setState({\r\n      componentHeight: window.innerHeight - 115\r\n    });\r\n  }\r\n\r\n  // Handles\r\n  handleClose() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shelf.handleClose\");\r\n    }\r\n    this.setState((prevState, props) => ({\r\n      shelf: { ...emptyShelf },\r\n      openSnack: true,\r\n      snack: appcopy[\"shelf\"][\"snack\"][\"discarded\"]\r\n    }));\r\n    this.props.callback(\"closeItem\");\r\n  }\r\n  handleChange(event, newValue) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shelf.handleChange\");\r\n    }\r\n    const target = event.target;\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"target.name : \" + target.name);\r\n      console.log(\"target.value : \" + target.value);\r\n      console.log(\"newValue : \" + newValue);\r\n    }\r\n    console.log(\"target.name : \" + target.name);\r\n    console.log(\"target.value : \");\r\n    console.log(target.value);\r\n    var previousShelf = this.state.shelf;\r\n    switch (target.name) {\r\n      case \"name\":\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"change name : \" + target.value);\r\n        }\r\n        previousShelf.name = target.value;\r\n        break;\r\n      case \"shops\":\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"change shop : \" + target.value);\r\n        }\r\n        console.log(\"change shop : \");\r\n        console.log(target.value);\r\n        console.log(\" this.state.shelf.shops : \");\r\n        console.log(this.state.shelf.shops);\r\n        console.log(previousShelf.shops.indexOf(target.value));\r\n        if (previousShelf.shops.includes(target.value)) {\r\n          console.log(\"removing  \");\r\n          previousShelf.shops.splice(\r\n            previousShelf.shops.indexOf(target.value),\r\n            1\r\n          );\r\n        } else {\r\n          console.log(\"adding  \");\r\n          previousShelf.shops.push(target.value);\r\n        }\r\n        console.log(\"previousShelf.shops : \");\r\n        console.log(previousShelf.shops);\r\n        break;\r\n      default:\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"/!\\\\ no match : \" + target.name);\r\n        }\r\n    }\r\n    // Update\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shelf.shelf\");\r\n      console.log(this.state.shelf);\r\n    }\r\n    this.setState((prevState, props) => ({\r\n      shelf: previousShelf\r\n    }));\r\n  }\r\n  handleSave() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shelf.handleSave\");\r\n      console.log(\"this.state.shelf\");\r\n      console.log(this.state.shelf);\r\n    }\r\n    // Check inputs\r\n    let save = true;\r\n    let errors = [];\r\n    if (this.state.shelf.name === undefined) {\r\n      save = false;\r\n      errors.push(\" Nom vide\");\r\n    }\r\n    // Save or not?\r\n    if (errors !== [] && process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(errors);\r\n    }\r\n    // Post or publish\r\n    if (save === true) {\r\n      if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n        console.log(this.props.shelf);\r\n        console.log(this.state.shelf);\r\n      }\r\n      apiSetShelfSave(this.state.shelf).then((res) => {\r\n        switch (res.status) {\r\n          case 201:\r\n            //console.log(\"default\");\r\n            this.setState({\r\n              shelf: emptyShelf,\r\n              openSnack: true,\r\n              snack: appcopy[\"shelf\"][\"snack\"][\"saved\"]\r\n            });\r\n            this.props.callback(\"closeItem\");\r\n            break;\r\n          case 200:\r\n            //console.log(\"modified\");\r\n            this.setState((prevState, props) => ({\r\n              shelf: emptyShelf,\r\n              openSnack: true,\r\n              snack: appcopy[\"shelf\"][\"snack\"][\"edited\"]\r\n            }));\r\n            this.props.callback(\"closeItem\");\r\n            break;\r\n          case 208: // Already reported https://en.wikipedia.org/wiki/List_of_HTTP_status_codes#4xx_client_errors\r\n            //console.log(\"name unicity violation\");\r\n            this.setState({\r\n              openSnack: true,\r\n              snack: appcopy[\"shelf\"][\"snack\"][\"conflict\"]\r\n            });\r\n            break;\r\n          case 400:\r\n            //console.log(\"error\");\r\n            //console.log(res);\r\n            this.setState({\r\n              openSnack: true,\r\n              snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n            });\r\n            break;\r\n          default:\r\n            //console.log(\"default\");\r\n            this.setState((prevState, props) => ({\r\n              openSnack: true,\r\n              snack: appcopy[\"generic\"][\"snack\"][\"errorunknown\"]\r\n            }));\r\n        }\r\n      });\r\n    } else {\r\n      // Snack\r\n      var snack = appcopy[\"generic\"][\"snack\"][\"error\"];\r\n      snack.message =\r\n        appcopy[\"generic\"][\"snack\"][\"error\"][this.props.language] + errors;\r\n      this.setState((prevState, props) => ({\r\n        openSnack: true,\r\n        snack: snack\r\n      }));\r\n    }\r\n  }\r\n  handleSnack(action) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shelf.handleSnack \" + action);\r\n    }\r\n    switch (action) {\r\n      case \"close\":\r\n        this.setState((prevState, props) => ({\r\n          openSnack: false\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n\r\n  // API\r\n  apiLoadShops() {\r\n    apiGetShops({ need: \"shops\" }).then((res) => {\r\n      if (res.status === 200) {\r\n        this.setState({\r\n          shopoptions: res.shops\r\n        });\r\n      } else {\r\n        this.setState((prevState, props) => ({\r\n          shopoptions: [],\r\n          openSnack: true,\r\n          snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n        }));\r\n      }\r\n    });\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemButton,\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  Typography,\r\n  Fab\r\n} from \"@mui/material\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\n//import EditIcon from \"@mui/icons-material/Edit\";\r\nimport SaveIcon from \"@mui/icons-material/Save\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\n\r\nimport appcopy from \"../copy\";\r\nimport Snack from \"./Snack\";\r\n\r\nexport default class Shelfs extends React.Component {\r\n  constructor(props) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shelfs.constructor\");\r\n    }\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shelfs language = \" + this.props.language);\r\n    }\r\n    this.state = {\r\n      openSnack: false\r\n    };\r\n    // Handles\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleSnack = this.handleSnack.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shelfs.render\");\r\n    }\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          id=\"dialog_shelfs\"\r\n          open={this.props.open}\r\n          onClose={this.handleClose}\r\n          fullScreen\r\n        >\r\n          <AppBar sx={{ position: \"relative\" }}>\r\n            <Toolbar>\r\n              <IconButton\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n                onClick={this.handleClose}\r\n                aria-label=\"close\"\r\n              >\r\n                <CloseIcon />\r\n              </IconButton>\r\n              <Typography sx={{ ml: 2, flex: 1 }} variant=\"h6\" component=\"div\">\r\n                {appcopy[\"shelfs\"][\"title\"][this.props.language]}\r\n              </Typography>\r\n              <IconButton\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n                onClick={() => {\r\n                  if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                    console.log(\"Shelfs.AddIcon.onClick\");\r\n                  }\r\n                  this.props.callback(\"openItem\", { shelfid: \"\" });\r\n                }}\r\n                sx={{ m: 1 }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Toolbar>\r\n          </AppBar>\r\n          <DialogContent>\r\n            <List dense={true}>\r\n              {this.props.shelfs.map((shelf) => (\r\n                <ListItem key={`${shelf._id}`} id={`${shelf._id}`}>\r\n                  <ListItemButton\r\n                    onClick={() => {\r\n                      if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                        console.log(\"Shelfs.shelfs.onClick \" + shelf._id);\r\n                      }\r\n                      this.props.callback(\"openItem\", {\r\n                        shelfid: shelf._id\r\n                      });\r\n                    }}\r\n                  >\r\n                    <ListItemText primary={`${shelf.name}`} />\r\n                  </ListItemButton>\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n        <Snack\r\n          language={this.props.language}\r\n          open={this.state.snackOpen}\r\n          snack={this.state.snack}\r\n          callback={this.handleSnack}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shelfs.componentDidMount\");\r\n    }\r\n  }\r\n  componentDidUpdate(prevState) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      //console.log(\"Shelfs.componentDidUpdate\");\r\n    }\r\n    if (prevState.open !== this.props.open && this.props.open) {\r\n      // Update\r\n    }\r\n  }\r\n\r\n  // Handles\r\n  handleClose() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shelfs.handleClose\");\r\n    }\r\n    this.props.callback(\"closeList\");\r\n  }\r\n  handleSnack(action) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shelfs.handleSnack \" + action);\r\n    }\r\n    switch (action) {\r\n      case \"close\":\r\n        this.setState((prevState, props) => ({\r\n          openSnack: false\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport {\r\n  Button,\r\n  TextField,\r\n  Box,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle\r\n} from \"@mui/material\";\r\n\r\nimport appcopy from \"../copy\";\r\nimport { apiGetShop } from \"../api/gets\";\r\nimport { apiSetShopSave } from \"../api/sets\";\r\nimport Snack from \"./Snack\";\r\n\r\nlet emptyShop = {\r\n  _id: undefined,\r\n  name: undefined\r\n};\r\n\r\nexport default class Shop extends React.Component {\r\n  constructor(props) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shop.constructor\");\r\n    }\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shop language = \" + this.props.language);\r\n    }\r\n    this.state = {\r\n      componentHeight: undefined,\r\n      shop: { ...emptyShop },\r\n      openSnack: false,\r\n      snack: undefined\r\n    };\r\n    // Updates\r\n    this.updateComponentHeight = this.updateComponentHeight.bind(this);\r\n    // Handles\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleSave = this.handleSave.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSnack = this.handleSnack.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shop.render\");\r\n    }\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          id=\"dialog_transaction\"\r\n          open={this.props.open}\r\n          onClose={this.handleClose}\r\n          fullWidth={true}\r\n        >\r\n          <DialogTitle>\r\n            {appcopy[\"shop\"][\"title\"][this.props.language]}\r\n          </DialogTitle>\r\n          <DialogContent\r\n            sx={{\r\n              height: this.state.componentHeight\r\n            }}\r\n          >\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                justifyContent: \"space-evenly\"\r\n              }}\r\n            >\r\n              <TextField\r\n                name=\"name\"\r\n                label={appcopy[\"generic\"][\"input\"][\"name\"][this.props.language]}\r\n                variant=\"standard\"\r\n                value={this.state.shop.name || \"\"}\r\n                onChange={this.handleChange}\r\n                autoComplete=\"off\"\r\n              />\r\n            </Box>\r\n          </DialogContent>\r\n\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose}>\r\n              {appcopy[\"generic\"][\"button\"][\"cancel\"][this.props.language]}\r\n            </Button>\r\n            <Button variant=\"contained\" onClick={this.handleSave}>\r\n              {appcopy[\"generic\"][\"button\"][\"save\"][this.props.language]}\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Snack\r\n          open={this.state.openSnack}\r\n          snack={this.state.snack}\r\n          callback={this.handleSnack}\r\n          language={this.props.language}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      //console.log(\"Shop.componentDidMount\");\r\n    }\r\n    this.updateComponentHeight();\r\n  }\r\n  componentDidUpdate(prevState) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      //console.log(\"Shop.componentDidUpdate\");\r\n      //console.log(\"Shop.state\");\r\n      //console.log(this.state);\r\n    }\r\n    if (\r\n      prevState.open !== this.props.open ||\r\n      prevState.shop !== this.props.shop\r\n    ) {\r\n      if (this.props.shop !== \"\") {\r\n        // Load\r\n        apiGetShop(this.props.shop).then((res) => {\r\n          switch (res.status) {\r\n            case 200:\r\n              this.setState({\r\n                shop: res.shop\r\n              });\r\n              break;\r\n            case 400:\r\n              this.setState((prevState, props) => ({\r\n                shop: emptyShop,\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n              }));\r\n              this.props.callback(\"closeItem\");\r\n              break;\r\n            default:\r\n              this.setState((prevState, props) => ({\r\n                shop: emptyShop,\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errorunknown\"]\r\n              }));\r\n              this.props.callback(\"closeItem\");\r\n          }\r\n        });\r\n      } else {\r\n        this.setState((prevState, props) => ({\r\n          shop: { ...emptyShop }\r\n        }));\r\n      }\r\n    }\r\n  }\r\n\r\n  // Updates\r\n  updateComponentHeight() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Thisweek.updateComponentHeight\");\r\n    }\r\n    this.setState({\r\n      componentHeight: window.innerHeight - 115\r\n    });\r\n  }\r\n\r\n  // Handles\r\n  handleClose() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shop.handleClose\");\r\n    }\r\n    this.setState((prevState, props) => ({\r\n      shop: { ...emptyShop },\r\n      openSnack: true,\r\n      snack: appcopy[\"shop\"][\"snack\"][\"discarded\"]\r\n    }));\r\n    this.props.callback(\"closeItem\");\r\n  }\r\n  handleChange(event, newValue) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shop.handleChange\");\r\n    }\r\n    const target = event.target;\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"target.name : \" + target.name);\r\n      console.log(\"target.value : \" + target.value);\r\n      console.log(\"newValue : \" + newValue);\r\n    }\r\n    var previousShop = this.state.shop;\r\n    switch (target.name) {\r\n      case \"name\":\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"change name : \" + target.value);\r\n        }\r\n        previousShop.name = target.value;\r\n        break;\r\n      default:\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"/!\\\\ no match : \" + target.name);\r\n        }\r\n    }\r\n    // Update\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shop.shop\");\r\n      console.log(this.state.shop);\r\n    }\r\n    this.setState((prevState, props) => ({\r\n      shop: previousShop\r\n    }));\r\n  }\r\n  handleSave() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shop.handleSave\");\r\n      console.log(\"this.state.shop\");\r\n      console.log(this.state.shop);\r\n    }\r\n    // Check inputs\r\n    let save = true;\r\n    let errors = [];\r\n    if (this.state.shop.name === undefined) {\r\n      save = false;\r\n      errors.push(\" Nom vide\");\r\n    }\r\n    // Save or not?\r\n    if (errors !== [] && process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(errors);\r\n    }\r\n    // Post or publish\r\n    if (save === true) {\r\n      if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n        console.log(this.props.shop);\r\n        console.log(this.state.shop);\r\n      }\r\n      apiSetShopSave(this.state.shop).then((res) => {\r\n        switch (res.status) {\r\n          case 201:\r\n            //console.log(\"default\");\r\n            this.setState({\r\n              shop: emptyShop,\r\n              openSnack: true,\r\n              snack: appcopy[\"shop\"][\"snack\"][\"saved\"]\r\n            });\r\n            this.props.callback(\"closeItem\");\r\n            break;\r\n          case 200:\r\n            //console.log(\"modified\");\r\n            this.setState((prevState, props) => ({\r\n              shop: emptyShop,\r\n              openSnack: true,\r\n              snack: appcopy[\"shop\"][\"snack\"][\"edited\"]\r\n            }));\r\n            this.props.callback(\"closeItem\");\r\n            break;\r\n          case 208: // Already reported https://en.wikipedia.org/wiki/List_of_HTTP_status_codes#4xx_client_errors\r\n            //console.log(\"name unicity violation\");\r\n            this.setState({\r\n              openSnack: true,\r\n              snack: appcopy[\"shop\"][\"snack\"][\"conflict\"]\r\n            });\r\n            break;\r\n          case 400:\r\n            //console.log(\"error\");\r\n            //console.log(res);\r\n            this.setState({\r\n              openSnack: true,\r\n              snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n            });\r\n            break;\r\n          default:\r\n            //console.log(\"default\");\r\n            this.setState((prevState, props) => ({\r\n              openSnack: true,\r\n              snack: appcopy[\"generic\"][\"snack\"][\"errorunknown\"]\r\n            }));\r\n        }\r\n      });\r\n    } else {\r\n      // Snack\r\n      var snack = appcopy[\"generic\"][\"snack\"][\"error\"];\r\n      snack.message =\r\n        appcopy[\"generic\"][\"snack\"][\"error\"][this.props.language] + errors;\r\n      this.setState((prevState, props) => ({\r\n        openSnack: true,\r\n        snack: snack\r\n      }));\r\n    }\r\n  }\r\n  handleSnack(action) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shop.handleSnack \" + action);\r\n    }\r\n    switch (action) {\r\n      case \"close\":\r\n        this.setState((prevState, props) => ({\r\n          openSnack: false\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemButton,\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  Typography,\r\n  Fab\r\n} from \"@mui/material\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\n//import EditIcon from \"@mui/icons-material/Edit\";\r\nimport SaveIcon from \"@mui/icons-material/Save\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\n\r\nimport appcopy from \"../copy\";\r\nimport Snack from \"./Snack\";\r\n\r\nexport default class Shops extends React.Component {\r\n  constructor(props) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shops.constructor\");\r\n    }\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shops language = \" + this.props.language);\r\n    }\r\n    this.state = {\r\n      openSnack: false\r\n    };\r\n    // Handles\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleSnack = this.handleSnack.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shops.render\");\r\n    }\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          id=\"dialog_shops\"\r\n          open={this.props.open}\r\n          onClose={this.handleClose}\r\n          fullScreen\r\n        >\r\n          <AppBar sx={{ position: \"relative\" }}>\r\n            <Toolbar>\r\n              <IconButton\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n                onClick={this.handleClose}\r\n                aria-label=\"close\"\r\n              >\r\n                <CloseIcon />\r\n              </IconButton>\r\n              <Typography sx={{ ml: 2, flex: 1 }} variant=\"h6\" component=\"div\">\r\n                {appcopy[\"shops\"][\"title\"][this.props.language]}\r\n              </Typography>\r\n              <IconButton\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n                onClick={() => {\r\n                  if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                    console.log(\"Shops.AddIcon.onClick\");\r\n                  }\r\n                  this.props.callback(\"openItem\", { shopid: \"\" });\r\n                }}\r\n                sx={{ m: 1 }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Toolbar>\r\n          </AppBar>\r\n          <DialogContent>\r\n            <List dense={true}>\r\n              {this.props.shops.map((shop) => (\r\n                <ListItem key={`${shop._id}`} id={`${shop._id}`}>\r\n                  <ListItemButton\r\n                    onClick={() => {\r\n                      if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                        console.log(\"Shops.shops.onClick \" + shop._id);\r\n                      }\r\n                      this.props.callback(\"openItem\", {\r\n                        shopid: shop._id\r\n                      });\r\n                    }}\r\n                  >\r\n                    <ListItemText primary={`${shop.name}`} />\r\n                  </ListItemButton>\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n        <Snack\r\n          language={this.props.language}\r\n          open={this.state.snackOpen}\r\n          snack={this.state.snack}\r\n          callback={this.handleSnack}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shops.componentDidMount\");\r\n    }\r\n  }\r\n  componentDidUpdate(prevState) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      //console.log(\"Shops.componentDidUpdate\");\r\n    }\r\n    if (prevState.open !== this.props.open && this.props.open) {\r\n      // Update\r\n    }\r\n  }\r\n\r\n  // Handles\r\n  handleClose() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shops.handleClose\");\r\n    }\r\n    this.props.callback(\"closeList\");\r\n  }\r\n  handleSnack(action) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shops.handleSnack \" + action);\r\n    }\r\n    switch (action) {\r\n      case \"close\":\r\n        this.setState((prevState, props) => ({\r\n          openSnack: false\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport {\r\n  Button,\r\n  TextField,\r\n  Box,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle\r\n} from \"@mui/material\";\r\n\r\nimport appcopy from \"../copy\";\r\nimport { apiSetCategorySave } from \"../api/sets\";\r\nimport Snack from \"./Snack\";\r\n\r\nexport default class Category extends React.Component {\r\n  constructor(props) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Category.constructor\");\r\n    }\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Category language = \" + this.props.language);\r\n    }\r\n    this.state = {\r\n      category: \"\",\r\n      openSnack: false,\r\n      snack: undefined\r\n    };\r\n    // Handles\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleSave = this.handleSave.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSnack = this.handleSnack.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Category.render\");\r\n      //console.log(\"Category.state.category\");\r\n      //console.log(this.state.category);\r\n    }\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          id=\"dialog_category\"\r\n          open={this.props.open}\r\n          onClose={this.handleClose}\r\n          fullWidth={true}\r\n        >\r\n          <DialogTitle>\r\n            {appcopy[\"category\"][\"title\"][this.props.language]}\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                justifyContent: \"space-evenly\"\r\n              }}\r\n            >\r\n              <TextField\r\n                name=\"name\"\r\n                label={appcopy[\"generic\"][\"input\"][\"name\"][this.props.language]}\r\n                variant=\"standard\"\r\n                value={this.state.category || \"\"}\r\n                onChange={this.handleChange}\r\n                autoComplete=\"off\"\r\n              />\r\n            </Box>\r\n          </DialogContent>\r\n\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose}>\r\n              {appcopy[\"generic\"][\"button\"][\"cancel\"][this.props.language]}\r\n            </Button>\r\n            <Button variant=\"contained\" onClick={this.handleSave}>\r\n              {appcopy[\"generic\"][\"button\"][\"save\"][this.props.language]}\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Snack\r\n          open={this.state.openSnack}\r\n          snack={this.state.snack}\r\n          callback={this.handleSnack}\r\n          language={this.props.language}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Handles\r\n  handleClose() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Category.handleClose\");\r\n    }\r\n    this.setState((prevState, props) => ({\r\n      openSnack: true,\r\n      snack: appcopy[\"category\"][\"snack\"][\"discarded\"],\r\n      category: \"\"\r\n    }));\r\n    this.props.callback(\"closeItem\");\r\n  }\r\n  handleChange(event, newValue) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Category.handleChange\");\r\n    }\r\n    const target = event.target;\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      //console.log(\"target\");\r\n      //console.log(target);\r\n      console.log(\"target.name : \" + target.name);\r\n      console.log(\"target.value : \" + target.value);\r\n      console.log(\"newValue : \" + newValue);\r\n    }\r\n    // Update\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Category.state.category\");\r\n      console.log(this.state.category);\r\n    }\r\n    this.setState((prevState, props) => ({\r\n      category: target.value\r\n    }));\r\n  }\r\n  handleSave() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Category.handleSave\");\r\n      console.log(\"this.state.category\");\r\n      console.log(this.state.category);\r\n    }\r\n    // Check inputs\r\n    let save = true;\r\n    let errors = [];\r\n    if (this.state.category === \"\" || this.state.category === undefined) {\r\n      save = false;\r\n      errors.push(\" Nom vide\");\r\n    }\r\n    // Save or not?\r\n    if (errors !== [] && process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(errors);\r\n    }\r\n    // Post or publish\r\n    if (save === true) {\r\n      if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n        console.log(this.state.category);\r\n        console.log(\"POST\");\r\n      }\r\n      apiSetCategorySave({\r\n        _id: \"\",\r\n        name: this.state.category\r\n      }).then((res) => {\r\n        switch (res.status) {\r\n          case 200:\r\n            this.setState((prevState, props) => ({\r\n              category: \"\",\r\n              openSnack: true,\r\n              snack: appcopy[\"category\"][\"snack\"][\"edited\"]\r\n            }));\r\n            this.props.onclose();\r\n            this.props.onedit();\r\n            break;\r\n          case 201:\r\n            this.setState({\r\n              category: \"\",\r\n              openSnack: true,\r\n              snack: appcopy[\"category\"][\"snack\"][\"saved\"]\r\n            });\r\n            this.props.onclose();\r\n            this.props.onedit();\r\n            break;\r\n          case 400:\r\n            this.setState({\r\n              openSnack: true,\r\n              snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n            });\r\n            break;\r\n          default:\r\n            this.setState((prevState, props) => ({\r\n              openSnack: true,\r\n              snack: appcopy[\"generic\"][\"snack\"][\"errorunknown\"]\r\n            }));\r\n        }\r\n      });\r\n    } else {\r\n      // Snack\r\n      var snack = appcopy[\"generic\"][\"snack\"][\"error\"];\r\n      snack.message =\r\n        appcopy[\"generic\"][\"snack\"][\"error\"][this.props.language] + errors;\r\n      this.setState((prevState, props) => ({\r\n        openSnack: true,\r\n        snack: snack\r\n      }));\r\n    }\r\n  }\r\n  handleSnack(action) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Category.handleSnack \" + action);\r\n    }\r\n    switch (action) {\r\n      case \"close\":\r\n        this.setState((prevState, props) => ({\r\n          openSnack: false\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemButton,\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  Typography,\r\n  Fab\r\n} from \"@mui/material\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\n//import EditIcon from \"@mui/icons-material/Edit\";\r\nimport SaveIcon from \"@mui/icons-material/Save\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\n\r\nimport appcopy from \"../copy\";\r\nimport Snack from \"./Snack\";\r\n\r\nexport default class Categories extends React.Component {\r\n  constructor(props) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Categories.constructor\");\r\n    }\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Categories language = \" + this.props.language);\r\n    }\r\n    this.state = {\r\n      open: false,\r\n      openSnack: false\r\n    };\r\n    // Handles\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleSnack = this.handleSnack.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Categories.render\");\r\n    }\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          id=\"dialog_categories\"\r\n          open={this.props.open}\r\n          onClose={this.handleClose}\r\n          fullScreen\r\n        >\r\n          <AppBar sx={{ position: \"relative\" }}>\r\n            <Toolbar>\r\n              <IconButton\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n                onClick={this.handleClose}\r\n                aria-label=\"close\"\r\n              >\r\n                <CloseIcon />\r\n              </IconButton>\r\n              <Typography sx={{ ml: 2, flex: 1 }} variant=\"h6\" component=\"div\">\r\n                {appcopy[\"categories\"][\"title\"][this.props.language]}\r\n              </Typography>\r\n              <IconButton\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n                onClick={() => {\r\n                  if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                    console.log(\"Categories.AddIcon.onClick\");\r\n                  }\r\n                  this.props.callback(\"openItem\", { categoryid: \"\" });\r\n                }}\r\n                sx={{ m: 1 }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Toolbar>\r\n          </AppBar>\r\n          <DialogContent>\r\n            <List dense={true}>\r\n              {this.props.values.map((category) => (\r\n                <ListItem key={`${category._id}`} id={`${category._id}`}>\r\n                  <ListItemButton\r\n                    onClick={() => {\r\n                      if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                        console.log(\r\n                          \"Categories.categories.onClick \" + category._id\r\n                        );\r\n                      }\r\n                      this.props.callback(\"openItem\", {\r\n                        categoryid: category._id\r\n                      });\r\n                    }}\r\n                  >\r\n                    <ListItemText primary={`${category.name}`} />\r\n                  </ListItemButton>\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n        <Snack\r\n          language={this.props.language}\r\n          open={this.state.snackOpen}\r\n          snack={this.state.snack}\r\n          callback={this.handleSnack}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Categories.componentDidMount\");\r\n    }\r\n  }\r\n  componentDidUpdate(prevState) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      //console.log(\"Categories.componentDidUpdate\");\r\n    }\r\n    if (prevState.open !== this.props.open && this.props.open) {\r\n      // Update\r\n    }\r\n  }\r\n\r\n  // Handles\r\n  handleClose() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Categories.handleClose\");\r\n    }\r\n    this.props.callback(\"closeList\");\r\n  }\r\n  handleSnack(action) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Categories.handleSnack \" + action);\r\n    }\r\n    switch (action) {\r\n      case \"close\":\r\n        this.setState((prevState, props) => ({\r\n          openSnack: false\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n}\r\n","require(\"dotenv\").config();\r\nconst axios = require(\"axios\");\r\n\r\nlet apiURL = process.env.REACT_APP_SERVER_URL;\r\n\r\nexport async function apiTransactionSave(transaction) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/transaction/save\", transaction);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiTransactionSave\",\r\n      error: err,\r\n      transaction: transaction,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiTransactionDeleteOne(id) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/transaction/delete/one/\" + id);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiTransactionDeleteOne\",\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiTransactionDeleteAll() {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/transaction/delete/all\");\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiTransactionDeleteAll\",\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiTransactionGetOne(id) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/transaction/item/\" + id);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiTransactionGetOne \" + id,\r\n      transaction: {},\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\nexport async function apiTransactionGetMany(need) {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/transaction/list\", need);\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiTransactionGetMany \" + need,\r\n      transactions: [],\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport {\r\n  Button,\r\n  TextField,\r\n  Box,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Radio,\r\n  RadioGroup,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  FormGroup,\r\n  InputAdornment,\r\n  Autocomplete,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { MobileDatePicker } from \"@mui/x-date-pickers/MobileDatePicker\";\r\nimport { AdapterDateFns } from \"@mui/x-date-pickers/AdapterDateFns\";\r\nimport { LocalizationProvider } from \"@mui/x-date-pickers/LocalizationProvider\";\r\nimport frLocale from \"date-fns/locale/fr\";\r\n\r\nimport appcopy from \"../copy\";\r\nimport { apiGetCategories } from \"../api/gets\";\r\nimport {\r\n  apiTransactionGetOne,\r\n  apiTransactionSave,\r\n} from \"../api/transaction.api\";\r\nimport Snack from \"./Snack\";\r\n\r\nlet emptyTransaction = {\r\n  _id: undefined,\r\n  name: undefined,\r\n  date: new Date(),\r\n  amount: undefined,\r\n  by: undefined,\r\n  for: [\"Alice\", \"Pierre\"],\r\n  category: undefined,\r\n};\r\n\r\nexport default class Transaction extends React.Component {\r\n  constructor(props) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Transaction.constructor\");\r\n    }\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Transaction language = \" + this.props.language);\r\n    }\r\n    this.state = {\r\n      transactionDate: new Date(),\r\n      options: [],\r\n      transaction: { ...emptyTransaction },\r\n      openSnack: false,\r\n      snack: undefined,\r\n    };\r\n    // Handles\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleSave = this.handleSave.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSnack = this.handleSnack.bind(this);\r\n    this.apiLoadCategories = this.apiLoadCategories.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Transaction.render\");\r\n      //console.log(\"Transaction.props.transactionid\");\r\n      //console.log(this.props.transactionid);\r\n      //console.log(\"Transaction.state.transaction\");\r\n      //console.log(this.state.transaction);\r\n    }\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          id=\"dialog_transaction\"\r\n          open={this.props.open}\r\n          onClose={this.handleClose}\r\n          fullWidth={true}\r\n        >\r\n          <DialogTitle>\r\n            {appcopy[\"transaction\"][\"title\"][this.props.language]}\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                justifyContent: \"space-evenly\",\r\n              }}\r\n            >\r\n              <TextField\r\n                name=\"name\"\r\n                label={appcopy[\"generic\"][\"input\"][\"name\"][this.props.language]}\r\n                variant=\"standard\"\r\n                value={this.state.transaction.name || \"\"}\r\n                onChange={this.handleChange}\r\n                autoComplete=\"off\"\r\n              />\r\n              <LocalizationProvider\r\n                dateAdapter={AdapterDateFns}\r\n                locale={frLocale}\r\n              >\r\n                <MobileDatePicker\r\n                  name=\"date\"\r\n                  label={\r\n                    appcopy[\"generic\"][\"input\"][\"date\"][this.props.language]\r\n                  }\r\n                  value={this.state.transactionDate}\r\n                  onChange={(newValue) => {\r\n                    this.setState((prevState, props) => ({\r\n                      transactionDate: newValue,\r\n                    }));\r\n                  }}\r\n                  onAccept={(newValue) => {\r\n                    this.handleChange({\r\n                      target: { name: \"date\", value: newValue },\r\n                    });\r\n                  }}\r\n                  renderInput={(params) => <TextField {...params} />}\r\n                />\r\n              </LocalizationProvider>\r\n\r\n              <TextField\r\n                name=\"amount\"\r\n                label={\r\n                  appcopy[\"generic\"][\"input\"][\"quantity\"][this.props.language]\r\n                }\r\n                variant=\"standard\"\r\n                value={this.state.transaction.amount || \"\"}\r\n                onChange={this.handleChange}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\"></InputAdornment>\r\n                  ),\r\n                }}\r\n                autoComplete=\"off\"\r\n                type=\"number\"\r\n              />\r\n\r\n              <RadioGroup\r\n                name=\"by\"\r\n                onChange={this.handleChange}\r\n                value={this.state.transaction.by || \"\"}\r\n                sx={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"row\",\r\n                  justifyContent: \"space-evenly\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                <Typography variant=\"h6\">\r\n                  {\r\n                    appcopy[\"transaction\"][\"specific\"][\"by\"][\r\n                      this.props.language\r\n                    ]\r\n                  }\r\n                </Typography>\r\n                <FormControlLabel\r\n                  value=\"Alice\"\r\n                  control={<Radio />}\r\n                  label=\"Alice\"\r\n                />\r\n                <FormControlLabel\r\n                  value=\"Pierre\"\r\n                  control={<Radio />}\r\n                  label=\"Pierre\"\r\n                />\r\n                <FormControlLabel\r\n                  value=\"\"\r\n                  control={<Radio />}\r\n                  label=\"None\"\r\n                  sx={{ display: \"none\" }}\r\n                />\r\n              </RadioGroup>\r\n\r\n              <FormGroup\r\n                sx={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"row\",\r\n                  justifyContent: \"space-evenly\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                <Typography variant=\"h6\">\r\n                  {\r\n                    appcopy[\"transaction\"][\"specific\"][\"for\"][\r\n                      this.props.language\r\n                    ]\r\n                  }\r\n                </Typography>\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox\r\n                      value=\"Alice\"\r\n                      name=\"for\"\r\n                      onChange={this.handleChange}\r\n                      checked={this.state.transaction.for.includes(\"Alice\")}\r\n                    />\r\n                  }\r\n                  label=\"Alice\"\r\n                />\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox\r\n                      value=\"Pierre\"\r\n                      name=\"for\"\r\n                      onChange={this.handleChange}\r\n                      checked={this.state.transaction.for.includes(\"Pierre\")}\r\n                    />\r\n                  }\r\n                  label=\"Pierre\"\r\n                />\r\n              </FormGroup>\r\n\r\n              <Autocomplete\r\n                disablePortal\r\n                id=\"combo-box-demo\"\r\n                options={this.state.options}\r\n                renderInput={(params) => (\r\n                  <TextField\r\n                    {...params}\r\n                    variant=\"standard\"\r\n                    label={\r\n                      appcopy[\"transaction\"][\"specific\"][\"category\"][\r\n                        this.props.language\r\n                      ]\r\n                    }\r\n                  />\r\n                )}\r\n                renderOption={(props, option) => (\r\n                  <li {...props}>{option.name}</li>\r\n                )}\r\n                value={this.state.transaction.category || \"\"}\r\n                onChange={(event, newValue) => {\r\n                  event.target = {\r\n                    name: \"category\",\r\n                    value: newValue.name,\r\n                  };\r\n                  this.handleChange(event, newValue.name);\r\n                }}\r\n                getOptionLabel={(option) => {\r\n                  var shorlist = this.state.options.filter(\r\n                    function (value, index, arr) {\r\n                      if (typeof option === \"string\") {\r\n                        return value.name === option;\r\n                      } else {\r\n                        return value.name === option.name;\r\n                      }\r\n                    },\r\n                  );\r\n                  if (shorlist.length === 1) {\r\n                    return shorlist[0].name;\r\n                  } else {\r\n                    return \"\";\r\n                  }\r\n                }}\r\n              />\r\n            </Box>\r\n          </DialogContent>\r\n\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose}>\r\n              {appcopy[\"generic\"][\"button\"][\"cancel\"][this.props.language]}\r\n            </Button>\r\n            <Button variant=\"contained\" onClick={this.handleSave}>\r\n              {appcopy[\"generic\"][\"button\"][\"save\"][this.props.language]}\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Snack\r\n          open={this.state.openSnack}\r\n          snack={this.state.snack}\r\n          callback={this.handleSnack}\r\n          language={this.props.language}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      //console.log(\"Transaction.componentDidMount\");\r\n    }\r\n    this.apiLoadCategories();\r\n  }\r\n  componentDidUpdate(prevState) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      //console.log(\"Transaction.componentDidUpdate\");\r\n      //console.log(\"Transaction.state\");\r\n      //console.log(this.state);\r\n    }\r\n    if (\r\n      prevState.open !== this.props.open ||\r\n      prevState.transactionid !== this.props.transactionid\r\n    ) {\r\n      if (this.props.transactionid !== \"\") {\r\n        // Load\r\n        apiTransactionGetOne(this.props.transactionid).then((res) => {\r\n          switch (res.status) {\r\n            case 200:\r\n              this.setState({\r\n                transaction: res.transaction,\r\n                transactionDate: res.transaction.date,\r\n              });\r\n              break;\r\n            case 404:\r\n              this.setState((prevState, props) => ({\r\n                transaction: emptyTransaction,\r\n                openSnack: true,\r\n                snack:\r\n                  appcopy[\"transaction\"][\"snack\"][\r\n                    \"404 - issue on find category\"\r\n                  ],\r\n              }));\r\n              this.props.onclose();\r\n              break;\r\n            case 400:\r\n              this.setState((prevState, props) => ({\r\n                transaction: emptyTransaction,\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"],\r\n              }));\r\n              this.props.onclose();\r\n              break;\r\n            default:\r\n              this.setState((prevState, props) => ({\r\n                transaction: emptyTransaction,\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errorunknown\"],\r\n              }));\r\n              this.props.onclose();\r\n          }\r\n        });\r\n      } else {\r\n        this.setState((prevState, props) => ({\r\n          transactionDate: Date(),\r\n          transaction: { ...emptyTransaction },\r\n        }));\r\n      }\r\n    }\r\n  }\r\n\r\n  // Handles\r\n  handleClose() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Transaction.handleClose\");\r\n    }\r\n    this.setState((prevState, props) => ({\r\n      transaction: { ...emptyTransaction },\r\n      openSnack: true,\r\n      snack: appcopy[\"transaction\"][\"snack\"][\"discarded\"],\r\n    }));\r\n    this.props.onclose();\r\n  }\r\n  handleChange(event, newValue) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Transaction.handleChange\");\r\n    }\r\n    const target = event.target;\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      //console.log(\"target\");\r\n      //console.log(target);\r\n      console.log(\"target.name : \" + target.name);\r\n      console.log(\"target.value : \" + target.value);\r\n      console.log(\"newValue : \" + newValue);\r\n    }\r\n    var previousTransaction = this.state.transaction;\r\n    switch (target.name) {\r\n      case \"name\":\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"change name : \" + target.value);\r\n        }\r\n        previousTransaction.name = target.value;\r\n        break;\r\n      case \"date\":\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"change date : \" + target.value);\r\n        }\r\n        previousTransaction.date = target.value;\r\n        this.setState((prevState, props) => ({\r\n          transactionDate: previousTransaction.date,\r\n        }));\r\n        break;\r\n      case \"amount\":\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"change amount : \" + target.value);\r\n        }\r\n        previousTransaction.amount = target.value;\r\n        break;\r\n      case \"by\":\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"change by : \" + target.value);\r\n        }\r\n        previousTransaction.by = target.value;\r\n        break;\r\n      case \"for\":\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"change for : \" + target.value + \" \" + target.checked);\r\n        }\r\n        if (target.checked === true) {\r\n          previousTransaction.for.push(target.value);\r\n        } else {\r\n          previousTransaction.for = previousTransaction.for.filter((value) => {\r\n            return value !== target.value;\r\n          });\r\n        }\r\n        break;\r\n      case \"category\":\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"change category : \" + target.value);\r\n        }\r\n        previousTransaction.category = target.value;\r\n        break;\r\n      default:\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"/!\\\\ no match : \" + target.name);\r\n        }\r\n    }\r\n    // Update\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Transaction.transaction\");\r\n      console.log(this.state.transaction);\r\n    }\r\n    this.setState((prevState, props) => ({\r\n      transaction: previousTransaction,\r\n    }));\r\n  }\r\n  handleSave() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Transaction.handleSave\");\r\n      console.log(\"this.state.transaction\");\r\n      console.log(this.state.transaction);\r\n    }\r\n    // Check inputs\r\n    let save = true;\r\n    let errors = [];\r\n    if (this.state.transaction.name === undefined) {\r\n      save = false;\r\n      errors.push(\" Nom vide\");\r\n    }\r\n    if (this.state.transaction.date === undefined) {\r\n      save = false;\r\n      errors.push(\" Date vide\");\r\n    }\r\n    if (this.state.transaction.amount === undefined) {\r\n      save = false;\r\n      errors.push(\" Montant vide\");\r\n    }\r\n    if (this.state.transaction.by === undefined) {\r\n      save = false;\r\n      errors.push(\" Pay par vide\");\r\n    }\r\n    if (this.state.transaction.for.length === 0) {\r\n      save = false;\r\n      errors.push(\" Pay pour vide\");\r\n    }\r\n    if (this.state.transaction.category === undefined) {\r\n      save = false;\r\n      errors.push(\" Catgorie vide\");\r\n    }\r\n    // Save or not?\r\n    if (errors !== [] && process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(errors);\r\n    }\r\n    // Post or publish\r\n    if (save === true) {\r\n      if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n        console.log(this.props.transactionid);\r\n        console.log(this.state.transaction);\r\n      }\r\n      apiTransactionSave(this.state.transaction).then((res) => {\r\n        switch (res.status) {\r\n          case 201:\r\n            this.setState({\r\n              transaction: emptyTransaction,\r\n              openSnack: true,\r\n              snack: appcopy[\"transaction\"][\"snack\"][\"saved\"],\r\n            });\r\n            this.props.onclose();\r\n            this.props.onedit();\r\n            break;\r\n          case 200:\r\n            this.setState((prevState, props) => ({\r\n              transaction: emptyTransaction,\r\n              openSnack: true,\r\n              snack: appcopy[\"transaction\"][\"snack\"][\"edited\"],\r\n            }));\r\n            this.props.onclose();\r\n            this.props.onedit();\r\n            break;\r\n          case 206:\r\n            this.setState({\r\n              openSnack: true,\r\n              snack:\r\n                appcopy[\"transaction\"][\"snack\"][\"206 - category inconsistency\"],\r\n            });\r\n            break;\r\n          case 400:\r\n            this.setState({\r\n              openSnack: true,\r\n              snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"],\r\n            });\r\n            break;\r\n          default:\r\n            this.setState((prevState, props) => ({\r\n              openSnack: true,\r\n              snack: appcopy[\"generic\"][\"snack\"][\"errorunknown\"],\r\n            }));\r\n        }\r\n      });\r\n    } else {\r\n      // Snack\r\n      var snack = appcopy[\"generic\"][\"snack\"][\"error\"];\r\n      snack.message =\r\n        appcopy[\"generic\"][\"snack\"][\"error\"][this.props.language] + errors;\r\n      this.setState((prevState, props) => ({\r\n        openSnack: true,\r\n        snack: snack,\r\n      }));\r\n    }\r\n  }\r\n  handleSnack(action) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Thisweek.handleSnack \" + action);\r\n    }\r\n    switch (action) {\r\n      case \"close\":\r\n        this.setState((prevState, props) => ({\r\n          openSnack: false,\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n\r\n  // API\r\n  apiLoadCategories() {\r\n    apiGetCategories({ need: \"transactiondropdown\" }).then((res) => {\r\n      if (res.status === 200) {\r\n        this.setState({\r\n          options: res.categories,\r\n        });\r\n      } else {\r\n        this.setState((prevState, props) => ({\r\n          options: [],\r\n          openSnack: true,\r\n          snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"],\r\n        }));\r\n      }\r\n    });\r\n  }\r\n}\r\n","require(\"dotenv\").config();\r\nconst axios = require(\"axios\");\r\n\r\nlet apiURL = process.env.REACT_APP_SERVER_URL;\r\n\r\nexport async function apiBalanceGet() {\r\n  try {\r\n    const res = await axios.post(apiURL + \"api/balance/get\");\r\n    return res.data;\r\n  } catch (err) {\r\n    const res = {\r\n      status: 400,\r\n      message: \"error on apiBalanceGet\",\r\n      balance: {},\r\n      error: err,\r\n    };\r\n    console.error(res);\r\n    return res;\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport Moment from \"moment\";\r\nimport {\r\n  Button,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemButton,\r\n  Box,\r\n  Fab,\r\n  Tabs,\r\n  Tab,\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  IconButton,\r\n} from \"@mui/material\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\n\r\nimport appcopy from \"../copy\";\r\nimport Transaction from \"./Transaction\";\r\nimport Category from \"./Category\";\r\nimport { apiTransactionGetMany } from \"../api/transaction.api\";\r\nimport { apiBalanceGet } from \"../api/balance\";\r\nimport Snack from \"./Snack\";\r\n\r\nlet emptySummary = { users: { Alice: 0, Pierre: 0 }, categories: [] };\r\n\r\nexport default class Balance extends React.Component {\r\n  constructor(props) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Balance.constructor\");\r\n    }\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Balance language = \" + this.props.language);\r\n    }\r\n    this.state = {\r\n      selectedTab: 0,\r\n      tabHeight: 300,\r\n      transactionid: \"\",\r\n      transactionOpen: false,\r\n      summary: emptySummary,\r\n      transactions: [],\r\n      transactionCategoryOpen: false,\r\n      openSnack: false,\r\n      snack: undefined,\r\n    };\r\n    // Updates\r\n    this.updateTabHeight = this.updateTabHeight.bind(this);\r\n    this.updateSummary = this.updateSummary.bind(this);\r\n    this.updateTransactions = this.updateTransactions.bind(this);\r\n    // Handles\r\n    this.handleChangeTab = this.handleChangeTab.bind(this);\r\n    this.handleOpenTransaction = this.handleOpenTransaction.bind(this);\r\n    this.handleCloseTransaction = this.handleCloseTransaction.bind(this);\r\n    this.handleOpenCategory = this.handleOpenCategory.bind(this);\r\n    this.handleCloseCategory = this.handleCloseCategory.bind(this);\r\n    this.handleSaveCategory = this.handleSaveCategory.bind(this);\r\n    this.handleSnack = this.handleSnack.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Balance.render\");\r\n    }\r\n    return (\r\n      <div>\r\n        <AppBar sx={{ position: \"relative\" }}>\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={() => this.props.callback(\"openMenu\")}\r\n            >\r\n              <MoreVertIcon />\r\n            </IconButton>\r\n            <Typography sx={{ ml: 2, flex: 1 }} variant=\"h6\">\r\n              {appcopy[\"mybalance\"][\"title\"][this.props.language]}\r\n            </Typography>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={() => {\r\n                if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                  console.log(\"Balance.AddIcon.onClick\");\r\n                }\r\n                this.handleOpenTransaction(\"\");\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <Box sx={{ width: \"100%\" }}>\r\n          <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n            <Tabs\r\n              value={this.state.selectedTab}\r\n              onChange={this.handleChangeTab}\r\n              variant=\"fullWidth\"\r\n            >\r\n              <Tab\r\n                label={\r\n                  appcopy[\"mybalance\"][\"subsection\"][\"summary\"][\r\n                    this.props.language\r\n                  ]\r\n                }\r\n                id=\"tab-0\"\r\n                aria-controls=\"tabpanel-0\"\r\n              />\r\n              <Tab\r\n                label={\r\n                  appcopy[\"mybalance\"][\"subsection\"][\"transactions\"][\r\n                    this.props.language\r\n                  ]\r\n                }\r\n                id=\"tab-1\"\r\n                aria-controls=\"tabpanel-1\"\r\n              />\r\n            </Tabs>\r\n          </Box>\r\n          <TabPanel\r\n            value={this.state.selectedTab}\r\n            index={0}\r\n            style={{ maxHeight: this.state.tabHeight, overflow: \"auto\" }}\r\n          >\r\n            <Typography variant=\"h6\">\r\n              {\r\n                appcopy[\"mybalance\"][\"subsection\"][\"balanceperuser\"][\r\n                  this.props.language\r\n                ]\r\n              }\r\n            </Typography>\r\n            <List>\r\n              <ListItem key={\"Alice\"}>\r\n                <ListItemText\r\n                  sx={{ width: 2 / 7, textAlign: \"right\", mr: 2 }}\r\n                  primary={`${\r\n                    Math.round(this.state.summary.users.Alice * 100) / 100\r\n                  } `}\r\n                />\r\n                <ListItemText sx={{ width: 5 / 7 }} primary={\"Alice\"} />\r\n              </ListItem>\r\n              <ListItem key={\"Pierre\"}>\r\n                <ListItemText\r\n                  sx={{ width: 2 / 7, textAlign: \"right\", mr: 2 }}\r\n                  primary={`${\r\n                    Math.round(this.state.summary.users.Pierre * 100) / 100\r\n                  } `}\r\n                />\r\n                <ListItemText sx={{ width: 5 / 7 }} primary={\"Pierre\"} />\r\n              </ListItem>\r\n            </List>\r\n            <Typography variant=\"h6\">\r\n              {\r\n                appcopy[\"mybalance\"][\"subsection\"][\"balancepercategory\"][\r\n                  this.props.language\r\n                ]\r\n              }\r\n            </Typography>\r\n            <List dense={true}>\r\n              {Object.keys(this.state.summary.categories).map((value) => (\r\n                <ListItem\r\n                  key={`${this.state.summary.categories[value]._id}`}\r\n                  id={`${this.state.summary.categories[value]._id}`}\r\n                >\r\n                  <ListItemText\r\n                    sx={{ width: 2 / 7, textAlign: \"right\", mr: 2 }}\r\n                    primary={`${\r\n                      Math.round(\r\n                        this.state.summary.categories[value].total * 100,\r\n                      ) / 100\r\n                    } `}\r\n                  />\r\n                  <ListItemText\r\n                    sx={{ width: 5 / 7 }}\r\n                    primary={`${this.state.summary.categories[value].name}`}\r\n                  />\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n            <Button onClick={this.handleOpenCategory}>\r\n              {\r\n                appcopy[\"mybalance\"][\"specific\"][\"newcategory\"][\r\n                  this.props.language\r\n                ]\r\n              }\r\n            </Button>\r\n          </TabPanel>\r\n          <TabPanel\r\n            value={this.state.selectedTab}\r\n            index={1}\r\n            style={{ maxHeight: this.state.tabHeight, overflow: \"auto\" }}\r\n          >\r\n            <List dense={true}>\r\n              {this.state.transactions.map((value) => (\r\n                <ListItem key={`${value._id}`} id={`${value._id}`}>\r\n                  <Box\r\n                    sx={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"row\",\r\n                    }}\r\n                  >\r\n                    <ListItemButton\r\n                      onClick={() => {\r\n                        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                          console.log(\r\n                            \"Balance.transactions.onClick \" + value._id,\r\n                          );\r\n                        }\r\n                        this.handleOpenTransaction(value._id);\r\n                      }}\r\n                    >\r\n                      <EditIcon />\r\n                    </ListItemButton>\r\n                    <ListItemText\r\n                      primary={`${value.name}`}\r\n                      secondary={`${value.amount} , le ${Moment(\r\n                        value.date,\r\n                      ).format(\"DD/MM/YYYY\")}`}\r\n                    />\r\n                  </Box>\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n          </TabPanel>\r\n        </Box>\r\n        <Transaction\r\n          transactionid={this.state.transactionid}\r\n          open={this.state.transactionOpen}\r\n          onclose={this.handleCloseTransaction}\r\n          onedit={() => {\r\n            this.updateTransactions();\r\n            this.updateSummary();\r\n          }}\r\n          balanceSnack={this.handleSnack}\r\n          language={this.props.language}\r\n        />\r\n        <Category\r\n          open={this.state.transactionCategoryOpen}\r\n          onclose={this.handleCloseCategory}\r\n          onedit={this.updateSummary}\r\n          balanceSnack={this.handleSnack}\r\n          language={this.props.language}\r\n        />\r\n\r\n        <Snack\r\n          open={this.state.openSnack}\r\n          snack={this.state.snack}\r\n          callback={this.handleSnack}\r\n          language={this.props.language}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Balance.componentDidMount\");\r\n    }\r\n    // Update\r\n    this.updateTabHeight();\r\n    this.updateSummary();\r\n  }\r\n\r\n  // Updates\r\n  updateTabHeight() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Balance.updateTabHeight\");\r\n    }\r\n    this.setState({\r\n      tabHeight: window.innerHeight - 165,\r\n    });\r\n  }\r\n  updateSummary() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Balance.updateSummary\");\r\n    }\r\n    apiBalanceGet({ need: \"summary\" }).then((res) => {\r\n      if (res.status === 200) {\r\n        this.setState({\r\n          summary: res.summary,\r\n        });\r\n      } else {\r\n        this.setState((prevState, props) => ({\r\n          summary: emptySummary,\r\n          openSnack: true,\r\n          snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"],\r\n        }));\r\n      }\r\n    });\r\n  }\r\n  updateTransactions() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Balance.updateTransactions\");\r\n    }\r\n    //\r\n    Moment.locale(\"en\");\r\n    apiTransactionGetMany({\r\n      need: \"mybalance\",\r\n    }).then((res) => {\r\n      if (res.status === 200) {\r\n        this.setState({\r\n          transactions: res.transactions,\r\n        });\r\n      } else {\r\n        this.setState((prevState, props) => ({\r\n          transactions: [],\r\n          openSnack: [],\r\n          snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"],\r\n        }));\r\n      }\r\n    });\r\n  }\r\n\r\n  // Handlers\r\n  handleChangeTab(event, newTabIndex) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Balance.handleChangeTab \" + newTabIndex);\r\n    }\r\n    switch (newTabIndex) {\r\n      case 0:\r\n        this.updateSummary();\r\n        break;\r\n      case 1:\r\n        this.updateTransactions();\r\n        break;\r\n      default:\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"/!\\\\ no match tab index : \" + newTabIndex);\r\n        }\r\n    }\r\n    this.setState({\r\n      selectedTab: newTabIndex,\r\n    });\r\n  }\r\n  handleOpenTransaction(id) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Balance.handleOpenTransaction \" + id);\r\n    }\r\n    this.setState({\r\n      transactionid: id,\r\n      transactionOpen: true,\r\n    });\r\n  }\r\n  handleCloseTransaction() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Balance.handleCloseTransaction\");\r\n    }\r\n    this.setState({\r\n      transactionid: \"\",\r\n      transactionOpen: false,\r\n    });\r\n  }\r\n  handleSaveTransaction() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Balance.handleSaveTransaction\");\r\n    }\r\n    this.updateBalance();\r\n  }\r\n  handleOpenCategory() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Balance.handleOpenCategory\");\r\n    }\r\n    this.setState({\r\n      transactionCategoryOpen: true,\r\n    });\r\n  }\r\n  handleCloseCategory() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Balance.handleCloseCategory\");\r\n    }\r\n    this.setState({\r\n      transactionCategoryOpen: false,\r\n    });\r\n  }\r\n  handleSaveCategory() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Balance.handleSaveCategory\");\r\n    }\r\n    this.updateBalance();\r\n  }\r\n  handleSnack(action) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Balance.handleSnack \" + action);\r\n    }\r\n    switch (action) {\r\n      case \"close\":\r\n        this.setState((prevState, props) => ({\r\n          openSnack: false,\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n}\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={\"tabpanel-\" + index}\r\n      aria-labelledby={\"tab-\" + index}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: 1 }}>{children}</Box>}\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\nimport {\r\n  Paper,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemButton,\r\n  Fab,\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  IconButton,\r\n  Box,\r\n  Card\r\n} from \"@mui/material\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport CheckBoxIcon from \"@mui/icons-material/CheckBox\";\r\nimport CheckBoxOutlineBlankIcon from \"@mui/icons-material/CheckBoxOutlineBlank\";\r\n\r\nimport appcopy from \"../copy\";\r\nimport Snack from \"./Snack\";\r\n\r\nexport default class Myrecipies extends React.Component {\r\n  constructor(props) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Myrecipies.constructor\");\r\n    }\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Myrecipies language = \" + this.props.language);\r\n    }\r\n    this.state = {\r\n      recipiesHeight: 300,\r\n      recipeID: \"\",\r\n      recipeOpen: false,\r\n      openSnack: false,\r\n      snack: undefined\r\n    };\r\n    // Updates\r\n    this.updateRecipiesHeight = this.updateRecipiesHeight.bind(this);\r\n    // Handles\r\n    this.handleSnack = this.handleSnack.bind(this);\r\n  }\r\n  render() {\r\n    return (\r\n      <Box>\r\n        <AppBar sx={{ position: \"relative\" }}>\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={() => this.props.callback(\"openMenu\")}\r\n            >\r\n              <MoreVertIcon />\r\n            </IconButton>\r\n            <Typography sx={{ ml: 2, flex: 1 }} variant=\"h6\" component=\"div\">\r\n              {appcopy[\"myrecipies\"][\"title\"][this.props.language]}\r\n            </Typography>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={() => {\r\n                if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                  console.log(\"Myrecipies.AddIcon.onClick\");\r\n                }\r\n                this.props.callback(\"openRecipe\", { recipeid: \"\" });\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <Box style={{ maxHeight: this.state.recipiesHeight, overflow: \"auto\" }}>\r\n          <List dense={true}>\r\n            {this.props.values.map((recipe) => (\r\n              <ListItem key={\"myrecipies-\" + recipe._id}>\r\n                <MyrecipiesRecipe\r\n                  recipe={recipe}\r\n                  callback={this.props.callback}\r\n                />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n          <Snack\r\n            open={this.state.openSnack}\r\n            snack={this.state.snack}\r\n            callback={this.handleSnack}\r\n            language={this.props.language}\r\n          />\r\n        </Box>\r\n      </Box>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Myrecipies.componentDidMount\");\r\n    }\r\n    // Update\r\n    this.updateRecipiesHeight();\r\n  }\r\n\r\n  // Updates\r\n  updateRecipiesHeight() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Myrecipies.updateRecipiesHeight\");\r\n    }\r\n    this.setState({\r\n      recipiesHeight: window.innerHeight - 115\r\n    });\r\n  }\r\n\r\n  // Handlers\r\n  handleSnack(action) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Myrecipies.handleSnack \" + action);\r\n    }\r\n    switch (action) {\r\n      case \"close\":\r\n        this.setState((prevState, props) => ({\r\n          openSnack: false\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n}\r\n\r\nclass MyrecipiesRecipe extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"MyrecipiesRecipe.constructor \" + this.props.recipe._id);\r\n    }\r\n    // Handlers\r\n    this.handleSelect = this.handleSelect.bind(this);\r\n    this.handleOpen = this.handleOpen.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"MyrecipiesRecipe.render \" + this.props.recipe._id);\r\n    }\r\n    return (\r\n      <Card sx={{ width: \"100%\", pl: \"1em\", pr: \"1em\" }}>\r\n        <Typography>{this.props.recipe.name}</Typography>\r\n        <Box\r\n          sx={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"space-between\",\r\n            alignItems: \"center\"\r\n          }}\r\n        >\r\n          <Typography>{this.props.recipe.portions} portions</Typography>\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\"\r\n            }}\r\n          >\r\n            <IconButton\r\n              onClick={() => {\r\n                this.handleOpen();\r\n              }}\r\n            >\r\n              <EditIcon />\r\n            </IconButton>\r\n            <IconButton\r\n              onClick={() => {\r\n                this.handleSelect();\r\n              }}\r\n            >\r\n              {this.props.recipe.selected && <CheckBoxIcon />}\r\n              {!this.props.recipe.selected && <CheckBoxOutlineBlankIcon />}\r\n            </IconButton>\r\n          </Box>\r\n        </Box>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  // Handles\r\n  handleSelect() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"MyrecipiesRecipe.handleSelect \" + this.props.recipe._id);\r\n    }\r\n    this.props.callback(\"selectRecipe\", { recipeid: this.props.recipe._id });\r\n  }\r\n  handleOpen() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"MyrecipiesRecipe.handleOpen \" + this.props.recipe._id);\r\n    }\r\n    this.props.callback(\"openRecipe\", { recipeid: this.props.recipe._id });\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport {\r\n  Button,\r\n  TextField,\r\n  Box,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  DialogContentText,\r\n  List,\r\n  ListItem,\r\n  IconButton,\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  Autocomplete\r\n} from \"@mui/material\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\n//import EditIcon from \"@mui/icons-material/Edit\";\r\nimport SaveIcon from \"@mui/icons-material/Save\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport CheckBoxIcon from \"@mui/icons-material/CheckBox\";\r\nimport CheckBoxOutlineBlankIcon from \"@mui/icons-material/CheckBoxOutlineBlank\";\r\n\r\nimport appcopy from \"../copy\";\r\nimport { random_id } from \"./toolkit\";\r\nimport Snack from \"./Snack\";\r\nimport { apiGetRecipe, apiGetIngredients } from \"../api/gets\";\r\nimport { apiSetRecipeSave, apiSetRecipeDelete } from \"../api/sets\";\r\n\r\nfunction getEmptyComponent(type) {\r\n  switch (type) {\r\n    case \"recipe\":\r\n      return {\r\n        _id: undefined,\r\n        name: undefined,\r\n        portions: undefined,\r\n        ingredients: [\r\n          {\r\n            uid: random_id(),\r\n            _id: \"\",\r\n            name: undefined,\r\n            quantity: undefined,\r\n            unit: undefined,\r\n            nextable: true\r\n          }\r\n        ],\r\n        instructions: [\r\n          {\r\n            uid: random_id(),\r\n            instruction: undefined,\r\n            nextable: true\r\n          }\r\n        ],\r\n        scale: 1,\r\n        state: {\r\n          selected: false,\r\n          cooked: false\r\n        }\r\n      };\r\n    case \"ingredient\":\r\n      return {\r\n        uid: random_id(),\r\n        _id: \"\",\r\n        name: undefined,\r\n        quantity: undefined,\r\n        unit: undefined,\r\n        nextable: true\r\n      };\r\n    case \"instruction\":\r\n      return {\r\n        uid: random_id(),\r\n        instruction: undefined,\r\n        nextable: true\r\n      };\r\n    default:\r\n      return undefined;\r\n  }\r\n}\r\n\r\nexport default class Recipe extends React.Component {\r\n  constructor(props) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Recipe.constructor\");\r\n    }\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Recipe language = \" + this.props.language);\r\n    }\r\n    this.state = {\r\n      recipe: { ...getEmptyComponent(\"recipe\") },\r\n      recipe_name: \"\",\r\n      recipe_portions: \"\",\r\n      ingredientoptions: [],\r\n      openSnack: false,\r\n      snack: undefined,\r\n      openConfirm: false,\r\n      confirmContent: { title: \"\", text: \"\" }\r\n    };\r\n    // Handles\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleSave = this.handleSave.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleDelete = this.handleDelete.bind(this);\r\n    this.handleIngredientDelete = this.handleIngredientDelete.bind(this);\r\n    this.handleIngredientChange = this.handleIngredientChange.bind(this);\r\n    this.handleInstructionDelete = this.handleInstructionDelete.bind(this);\r\n    this.handleInstructionChange = this.handleInstructionChange.bind(this);\r\n    this.handleSnack = this.handleSnack.bind(this);\r\n    this.handleCloseConfirm = this.handleCloseConfirm.bind(this);\r\n    this.handleConfirmDelete = this.handleConfirmDelete.bind(this);\r\n    // API\r\n    this.apiLoadIngredients = this.apiLoadIngredients.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Recipe.render\");\r\n      //console.log(this.state.recipe);\r\n    }\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          id=\"dialog_recipe\"\r\n          open={this.props.open}\r\n          onClose={this.handleClose}\r\n          fullScreen\r\n        >\r\n          <AppBar sx={{ position: \"relative\" }}>\r\n            <Toolbar>\r\n              <IconButton\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n                onClick={this.handleClose}\r\n                aria-label=\"close\"\r\n              >\r\n                <CloseIcon />\r\n              </IconButton>\r\n              <Typography sx={{ ml: 2, flex: 1 }} variant=\"h6\" component=\"div\">\r\n                {appcopy[\"recipe\"][\"title\"][this.props.language]}\r\n              </Typography>\r\n              <IconButton\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n                onClick={this.handleDelete}\r\n                sx={{ mr: \"0.25em\" }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n              <IconButton\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n                onClick={this.handleSave}\r\n                sx={{ mr: \"0.25em\" }}\r\n              >\r\n                <SaveIcon />\r\n              </IconButton>\r\n              <IconButton\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n                onClick={() => {\r\n                  // Local\r\n                  let tmpRecipe = this.state.recipe;\r\n                  if (tmpRecipe.selected === true) {\r\n                    tmpRecipe.selected = false;\r\n                  } else {\r\n                    tmpRecipe.selected = true;\r\n                  }\r\n                  this.setState({\r\n                    recipe: tmpRecipe\r\n                  });\r\n                  // Distant\r\n                  this.props.callback(\"selectItem\", {\r\n                    recipeid: this.state.recipe._id\r\n                  });\r\n                }}\r\n              >\r\n                {this.state.recipe.selected && <CheckBoxIcon />}\r\n                {!this.state.recipe.selected && <CheckBoxOutlineBlankIcon />}\r\n              </IconButton>\r\n            </Toolbar>\r\n          </AppBar>\r\n          <DialogContent>\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                justifyContent: \"space-evenly\",\r\n                overflow: \"auto\"\r\n              }}\r\n            >\r\n              <TextField\r\n                name=\"name\"\r\n                label={appcopy[\"generic\"][\"input\"][\"name\"][this.props.language]}\r\n                variant=\"standard\"\r\n                value={this.state.recipe_name || \"\"}\r\n                onChange={this.handleChange}\r\n                autoComplete=\"off\"\r\n              />\r\n\r\n              <TextField\r\n                name=\"portions\"\r\n                label={\r\n                  appcopy[\"generic\"][\"input\"][\"portions\"][this.props.language]\r\n                }\r\n                variant=\"standard\"\r\n                value={this.state.recipe_portions || \"\"}\r\n                onChange={this.handleChange}\r\n                autoComplete=\"off\"\r\n                type=\"number\"\r\n              />\r\n\r\n              <Box\r\n                sx={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"row\",\r\n                  justifyContent: \"space-between\"\r\n                }}\r\n              >\r\n                <Typography variant=\"h6\">\r\n                  {\r\n                    appcopy[\"recipe\"][\"subsection\"][\"ingredients\"][\r\n                      this.props.language\r\n                    ]\r\n                  }\r\n                </Typography>\r\n                <IconButton\r\n                  edge=\"start\"\r\n                  color=\"inherit\"\r\n                  onClick={() => {\r\n                    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                      console.log(\"Ingredients.AddIcon.onClick\");\r\n                    }\r\n                    this.props.callback(\"openIngredient\", { ingredientid: \"\" });\r\n                  }}\r\n                  sx={{ m: 1 }}\r\n                >\r\n                  <AddIcon />\r\n                </IconButton>\r\n              </Box>\r\n              <List dense={true} name=\"recipe-ingredientlist\">\r\n                {this.state.recipe.ingredients.map((ingredient) => (\r\n                  <Ingredient\r\n                    key={ingredient.uid}\r\n                    ingredient={ingredient}\r\n                    onchange={this.handleIngredientChange}\r\n                    ondelete={this.handleIngredientDelete}\r\n                    language={this.props.language}\r\n                    options={this.state.ingredientoptions}\r\n                  />\r\n                ))}\r\n              </List>\r\n\r\n              <Typography variant=\"h6\">\r\n                {\r\n                  appcopy[\"recipe\"][\"subsection\"][\"instructions\"][\r\n                    this.props.language\r\n                  ]\r\n                }\r\n              </Typography>\r\n              <List dense={true}>\r\n                {this.state.recipe.instructions.map((instruction) => (\r\n                  <Instruction\r\n                    key={instruction.uid}\r\n                    instruction={instruction}\r\n                    onchange={this.handleInstructionChange}\r\n                    ondelete={this.handleInstructionDelete}\r\n                    language={this.props.language}\r\n                  />\r\n                ))}\r\n              </List>\r\n            </Box>\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n        <ConfirmModal\r\n          open={this.state.openConfirm}\r\n          content={this.state.confirmContent}\r\n          onclose={this.handleCloseConfirm}\r\n          onconfirm={this.handleConfirmDelete}\r\n          language={this.props.language}\r\n        />\r\n\r\n        <Snack\r\n          open={this.state.openSnack}\r\n          snack={this.state.snack}\r\n          callback={this.handleSnack}\r\n          language={this.props.language}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Recipe.componentDidMount\");\r\n    }\r\n  }\r\n\r\n  // Updates\r\n  componentDidUpdate(prevState) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      //console.log(\"Recipe.componentDidUpdate\");\r\n    }\r\n    if (prevState.open !== this.props.open && this.props.open) {\r\n      this.apiLoadIngredients();\r\n      if (this.props.values === \"\") {\r\n        this.setState((prevState, props) => ({\r\n          recipe: getEmptyComponent(\"recipe\")\r\n        }));\r\n      } else {\r\n        apiGetRecipe(this.props.values).then((res) => {\r\n          switch (res.status) {\r\n            case 200:\r\n              // Ingredients\r\n              res.recipe.ingredients.forEach((ingredient) => {\r\n                ingredient.uid = random_id();\r\n                ingredient.nextable = false;\r\n              });\r\n              res.recipe.ingredients.push(getEmptyComponent(\"ingredient\"));\r\n              //console.log(\"componentDidUpdate/res.recipe after ingredients\");\r\n              // Instructions\r\n              let newInstructions = [];\r\n              //console.log(res.recipe.instructions);\r\n              res.recipe.instructions.forEach((instruction) => {\r\n                console.log(instruction);\r\n                let newInstruction = {\r\n                  uid: random_id(),\r\n                  instruction: instruction,\r\n                  nextable: false\r\n                };\r\n                newInstructions.push(newInstruction);\r\n              });\r\n              newInstructions.push(getEmptyComponent(\"instruction\"));\r\n              res.recipe.instructions = newInstructions;\r\n              //console.log(\"componentDidUpdate/res.recipe after instructions\");\r\n              // Set state\r\n              this.setState({\r\n                recipe: res.recipe,\r\n                recipe_name: res.recipe.name,\r\n                recipe_portions: res.recipe.portions\r\n              });\r\n              break;\r\n            case 206:\r\n              this.setState({\r\n                //recipe: getEmptyComponent(\"recipe\"),\r\n                openSnack: true,\r\n                snack: appcopy[\"recipe\"][\"snack\"][\"206 - inconsistency on load\"]\r\n              });\r\n              this.props.callback(\"closeItem\");\r\n              break;\r\n            case 400:\r\n              this.setState((prevState, props) => ({\r\n                //recipe: getEmptyComponent(\"recipe\"),\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n              }));\r\n              this.props.callback(\"closeItem\");\r\n              break;\r\n            default:\r\n              this.setState((prevState, props) => ({\r\n                //recipe: getEmptyComponent(\"recipe\"),\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errorunknown\"]\r\n              }));\r\n              this.props.callback(\"closeItem\");\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  // Handles\r\n  handleClose() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Recipe.handleClose\");\r\n    }\r\n    this.setState((prevState, props) => ({\r\n      recipe: getEmptyComponent(\"recipe\"),\r\n      recipe_name: undefined,\r\n      recipe_portions: undefined\r\n    }));\r\n    this.props.callback(\"closeItem\");\r\n  }\r\n  handleChange(event) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Recipe.handleChange\");\r\n    }\r\n    const target = event.target;\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(target);\r\n    }\r\n    var previousRecipe = this.state.recipe;\r\n    switch (target.name) {\r\n      case \"name\":\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"change name : \" + target.value);\r\n        }\r\n        previousRecipe.name = target.value;\r\n        break;\r\n      case \"portions\":\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"change portions : \" + target.value);\r\n        }\r\n        previousRecipe.portions = Number(target.value);\r\n        break;\r\n      case \"selected\":\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"change selected : \" + target.value);\r\n        }\r\n        previousRecipe.selected = target.value;\r\n        break;\r\n      default:\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"/!\\\\ no match : \" + target.name);\r\n        }\r\n    }\r\n    // Update\r\n    this.setState((prevState, props) => ({\r\n      recipe: previousRecipe,\r\n      recipe_name: previousRecipe.name,\r\n      recipe_portions: previousRecipe.portions\r\n    }));\r\n  }\r\n  handleSave() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Recipe.handleSave\");\r\n    }\r\n    // Check inputs\r\n    let save = true;\r\n    let errors = [];\r\n    if (this.state.recipe.name === undefined) {\r\n      save = false;\r\n      errors.push(\"Nom vide\");\r\n    }\r\n    if (this.state.recipe.portions === undefined) {\r\n      save = false;\r\n      errors.push(\"Portions vide\");\r\n    }\r\n    // Save or not?\r\n    if (errors !== []) {\r\n      console.log(errors);\r\n    }\r\n    // Post or publish\r\n    if (save === true) {\r\n      // Check\r\n      const recipe = JSON.parse(JSON.stringify(this.state.recipe));\r\n      recipe.ingredients = recipe.ingredients.filter((ingredient) => {\r\n        var isConform =\r\n          ingredient.name !== undefined &&\r\n          ingredient.name !== \"\" &&\r\n          ingredient.quantity !== undefined &&\r\n          ingredient.quantity > 0 &&\r\n          ingredient.unit !== undefined &&\r\n          ingredient.unit !== \"\";\r\n        return isConform;\r\n      });\r\n      recipe.ingredients.forEach((ingredient) => {\r\n        if (ingredient.uid) {\r\n          delete ingredient.uid;\r\n          delete ingredient.nextable;\r\n        }\r\n      });\r\n      recipe.instructions = recipe.instructions.filter((instruction) => {\r\n        var isConform =\r\n          instruction.instruction !== undefined &&\r\n          instruction.instruction !== \"\";\r\n        return isConform;\r\n      });\r\n      var instructionList = [];\r\n      recipe.instructions.forEach((instruction) => {\r\n        if (instruction.uid) {\r\n          instructionList.push(instruction.instruction);\r\n        }\r\n      });\r\n      recipe.instructions = instructionList;\r\n\r\n      if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n        console.log(recipe);\r\n      }\r\n      apiSetRecipeSave(recipe).then((res) => {\r\n        switch (res.status) {\r\n          case 200:\r\n            this.setState((prevState, props) => ({\r\n              recipe: getEmptyComponent(\"recipe\"),\r\n              recipe_name: undefined,\r\n              recipe_portions: undefined,\r\n              openSnack: true,\r\n              snack: appcopy[\"recipe\"][\"snack\"][\"saved\"]\r\n            }));\r\n            this.props.callback(\"closeItem\");\r\n            break;\r\n          case 201:\r\n            this.setState({\r\n              recipe: getEmptyComponent(\"recipe\"),\r\n              recipe_name: undefined,\r\n              recipe_portions: undefined,\r\n              openSnack: true,\r\n              snack: appcopy[\"recipe\"][\"snack\"][\"edited\"]\r\n            });\r\n            this.props.callback(\"closeItem\");\r\n            break;\r\n          case 406:\r\n            this.setState({\r\n              recipe: getEmptyComponent(\"recipe\"),\r\n              openSnack: true,\r\n              snack:\r\n                appcopy[\"recipe\"][\"snack\"][\"406 - issue on new ingredient save\"]\r\n            });\r\n            break;\r\n          case 400:\r\n            this.setState({\r\n              openSnack: true,\r\n              snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n            });\r\n            break;\r\n          default:\r\n            this.setState((prevState, props) => ({\r\n              openSnack: true,\r\n              snack: appcopy[\"generic\"][\"snack\"][\"errorunknown\"]\r\n            }));\r\n        }\r\n      });\r\n    } else {\r\n      // Snack\r\n      var snack = appcopy[\"generic\"][\"snack\"][\"error\"];\r\n      snack.message =\r\n        appcopy[\"generic\"][\"snack\"][\"error\"][this.props.language] + errors;\r\n      this.setState((prevState, props) => ({\r\n        openSnack: true,\r\n        snack: snack\r\n      }));\r\n    }\r\n  }\r\n  handleDelete() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Recipe.handleDelete\");\r\n    }\r\n    this.setState((prevState, props) => ({\r\n      openConfirm: true,\r\n      confirmContent: {\r\n        title:\r\n          appcopy[\"recipe\"][\"specific\"][\"deletionconfirmtitle\"][\r\n            this.props.language\r\n          ],\r\n        text:\r\n          appcopy[\"recipe\"][\"specific\"][\"deletionconfirmtext\"][\r\n            this.props.language\r\n          ]\r\n      }\r\n    }));\r\n  }\r\n  handleIngredientDelete(uid) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Recipe.handleIngredientDelete \" + uid);\r\n    }\r\n    let ingredients = this.state.recipe.ingredients.filter(\r\n      (ingredient) => ingredient.uid !== uid\r\n    );\r\n    let recipe = this.state.recipe;\r\n    recipe.ingredients = ingredients;\r\n    this.setState((prevState, props) => ({\r\n      recipe: recipe\r\n    }));\r\n  }\r\n  handleIngredientChange(newIngredientValue) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Recipe.handleIngredientChange \" + newIngredientValue.uid);\r\n      console.log(\"newIngredientValue\");\r\n      console.log(newIngredientValue);\r\n    }\r\n    let currentIngredients = this.state.recipe.ingredients;\r\n    console.log(\"handleIngredientChange/currentIngredients\");\r\n    console.log(currentIngredients);\r\n    // Nextable management\r\n    if (newIngredientValue.nextable === true) {\r\n      newIngredientValue.nextable = false;\r\n      // nextable extra one\r\n      currentIngredients.push(getEmptyComponent(\"ingredient\"));\r\n    }\r\n    console.log(\"handleIngredientChange/currentIngredients after nextable\");\r\n    console.log(currentIngredients);\r\n    // Update\r\n    currentIngredients[newIngredientValue.uid] = newIngredientValue;\r\n    console.log(\r\n      \"handleIngredientChange/currentIngredients after newIngredientValue\"\r\n    );\r\n    console.log(currentIngredients);\r\n    let recipe = this.state.recipe;\r\n    recipe.ingredients = currentIngredients;\r\n    console.log(\"handleIngredientChange/recipe\");\r\n    console.log(recipe);\r\n    this.setState((prevState, props) => ({\r\n      recipe: recipe\r\n    }));\r\n  }\r\n  handleInstructionDelete(uid) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Recipe.handleInstructionDelete \" + uid);\r\n    }\r\n    let instructions = this.state.recipe.instructions.filter(\r\n      (instruction) => instruction.uid !== uid\r\n    );\r\n    let recipe = this.state.recipe;\r\n    recipe.instructions = instructions;\r\n    this.setState((prevState, props) => ({\r\n      recipe: recipe\r\n    }));\r\n  }\r\n  handleInstructionChange(newInstructionValue) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Recipe.handleInstructionChange \" + newInstructionValue.uid);\r\n      console.log(\"newInstructionValue\");\r\n      console.log(newInstructionValue);\r\n    }\r\n    let currentInstructions = this.state.recipe.instructions;\r\n    // Nextable management\r\n    if (newInstructionValue.nextable === true) {\r\n      newInstructionValue.nextable = false;\r\n      // nextable extra one\r\n      currentInstructions.push(getEmptyComponent(\"instruction\"));\r\n    }\r\n    // Update\r\n    currentInstructions[newInstructionValue.uid] = newInstructionValue;\r\n    let recipe = this.state.recipe;\r\n    recipe.instructions = currentInstructions;\r\n    console.log(\"recipe\");\r\n    console.log(recipe);\r\n    this.setState((prevState, props) => ({\r\n      recipe: recipe\r\n    }));\r\n  }\r\n  handleSnack(action) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Recipe.handleSnack \" + action);\r\n    }\r\n    switch (action) {\r\n      case \"close\":\r\n        this.setState((prevState, props) => ({\r\n          openSnack: false\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n  handleCloseConfirm() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Recipe.handleCloseConfirm\");\r\n    }\r\n    this.setState((prevState, props) => ({\r\n      openConfirm: false\r\n    }));\r\n  }\r\n  handleConfirmDelete() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Recipe.handleConfirmDelete\");\r\n    }\r\n    apiSetRecipeDelete(this.props.values).then((res) => {\r\n      switch (res.status) {\r\n        case 200:\r\n          this.setState((prevState, props) => ({\r\n            openConfirm: false,\r\n            recipe: getEmptyComponent(\"recipe\"),\r\n            openSnack: true,\r\n            snack: appcopy[\"recipe\"][\"snack\"][\"deleted\"]\r\n          }));\r\n          this.props.callback(\"closeItem\");\r\n          break;\r\n        case 400:\r\n          this.setState({\r\n            openSnack: true,\r\n            snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n          });\r\n          break;\r\n        default:\r\n          this.setState((prevState, props) => ({\r\n            openSnack: true,\r\n            snack: appcopy[\"generic\"][\"snack\"][\"errorunknown\"]\r\n          }));\r\n      }\r\n    });\r\n  }\r\n\r\n  // API\r\n  apiLoadIngredients() {\r\n    apiGetIngredients({ need: \"recipeingredientoptions\" }).then((res) => {\r\n      if (res.status === 200) {\r\n        this.setState({\r\n          ingredientoptions: res.ingredients\r\n        });\r\n      } else {\r\n        this.setState((prevState, props) => ({\r\n          ingredientoptions: [],\r\n          openSnack: true,\r\n          snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n        }));\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nclass Ingredient extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredient.constructor \" + this.props.ingredient.uid);\r\n    }\r\n    // Handlers\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleDelete = this.handleDelete.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredient.render \" + this.props.ingredient.uid);\r\n    }\r\n    return (\r\n      <ListItem key={this.props.ingredient.uid}>\r\n        <Box\r\n          sx={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"space-between\",\r\n            width: \"100%\"\r\n          }}\r\n        >\r\n          <Autocomplete\r\n            sx={{\r\n              width: \"100%\"\r\n            }}\r\n            disablePortal\r\n            options={this.props.options}\r\n            renderInput={(params) => (\r\n              <TextField\r\n                {...params}\r\n                variant=\"standard\"\r\n                label={appcopy[\"generic\"][\"input\"][\"name\"][this.props.language]}\r\n              />\r\n            )}\r\n            renderOption={(props, option) => <li {...props}>{option.name}</li>}\r\n            value={this.props.ingredient.name}\r\n            onChange={(event, newValue) => {\r\n              event.target = {\r\n                name: \"name\",\r\n                value: newValue\r\n              };\r\n              this.handleChange(event, newValue);\r\n            }}\r\n            getOptionLabel={(option) => {\r\n              var shorlist = this.props.options.filter(function (\r\n                value,\r\n                index,\r\n                arr\r\n              ) {\r\n                if (typeof option === \"string\") {\r\n                  return value.name === option;\r\n                } else {\r\n                  return value.name === option.name;\r\n                }\r\n              });\r\n              if (shorlist.length === 1) {\r\n                return shorlist[0].name;\r\n              } else {\r\n                return \"\";\r\n              }\r\n            }}\r\n          />\r\n          <TextField\r\n            name=\"quantity\"\r\n            label={appcopy[\"generic\"][\"input\"][\"quantity\"][this.props.language]}\r\n            variant=\"standard\"\r\n            value={this.props.ingredient.quantity || \"\"}\r\n            onChange={this.handleChange}\r\n            autoComplete=\"off\"\r\n            type=\"number\"\r\n          />\r\n          <TextField\r\n            name=\"unit\"\r\n            label={appcopy[\"generic\"][\"input\"][\"unit\"][this.props.language]}\r\n            variant=\"standard\"\r\n            value={this.props.ingredient.unit || \"\"}\r\n            onChange={this.handleChange}\r\n            autoComplete=\"off\"\r\n            disabled={true}\r\n          />\r\n          <IconButton\r\n            onClick={() => {\r\n              this.handleDelete();\r\n            }}\r\n            disabled={this.props.ingredient.nextable}\r\n          >\r\n            <DeleteIcon disabled={this.props.ingredient.nextable} />\r\n          </IconButton>\r\n        </Box>\r\n      </ListItem>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Recipe.componentDidMount\");\r\n    }\r\n  }\r\n\r\n  // Handlers()\r\n  handleChange(event) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredient.handleChange\");\r\n    }\r\n    const target = event.target;\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(target);\r\n    }\r\n    var updatingIngredient = this.props.ingredient;\r\n    switch (target.name) {\r\n      case \"name\":\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"change name : \" + target.value);\r\n        }\r\n        if (target.value === null) {\r\n          updatingIngredient.name = undefined;\r\n          updatingIngredient.unit = undefined;\r\n        } else {\r\n          console.log(\"change name : \" + target.value.name);\r\n          updatingIngredient.name = target.value.name;\r\n          updatingIngredient.unit = target.value.unit;\r\n        }\r\n        break;\r\n      case \"quantity\":\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"change quantity : \" + target.value);\r\n        }\r\n        updatingIngredient.quantity = Number(target.value);\r\n        break;\r\n      default:\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"/!\\\\ no match : \" + target.name);\r\n        }\r\n    }\r\n    // Update\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"updatingIngredient\");\r\n      console.log(updatingIngredient);\r\n    }\r\n    this.props.onchange(updatingIngredient);\r\n  }\r\n  handleDelete() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Ingredient.handleDelete \" + this.props.ingredient.uid);\r\n    }\r\n    this.props.ondelete(this.props.ingredient.uid);\r\n  }\r\n}\r\n\r\nclass Instruction extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Instruction.constructor \" + this.props.instruction.uid);\r\n    }\r\n    // Handlers\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleDelete = this.handleDelete.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Instruction.render \" + this.props.instruction.uid);\r\n    }\r\n    return (\r\n      <ListItem key={this.props.instruction.uid}>\r\n        <Box\r\n          sx={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"space-between\",\r\n            width: \"100%\"\r\n          }}\r\n        >\r\n          <TextField\r\n            sx={{\r\n              width: \"100%\"\r\n            }}\r\n            name=\"instruction\"\r\n            label={\r\n              appcopy[\"generic\"][\"input\"][\"instruction\"][this.props.language]\r\n            }\r\n            variant=\"standard\"\r\n            value={this.props.instruction.instruction || \"\"}\r\n            onChange={this.handleChange}\r\n            autoComplete=\"off\"\r\n          />\r\n          <IconButton\r\n            onClick={() => {\r\n              this.handleDelete();\r\n            }}\r\n            disabled={this.props.instruction.nextable}\r\n          >\r\n            <DeleteIcon disabled={this.props.instruction.nextable} />\r\n          </IconButton>\r\n        </Box>\r\n      </ListItem>\r\n    );\r\n  }\r\n\r\n  // Handlers()\r\n  handleChange(event) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Instruction.handleChange\");\r\n    }\r\n    const target = event.target;\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(target);\r\n    }\r\n    var updatingInstruction = this.props.instruction;\r\n    switch (target.name) {\r\n      case \"instruction\":\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"change instruction : \" + target.value);\r\n        }\r\n        updatingInstruction.instruction = target.value;\r\n        break;\r\n      default:\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"/!\\\\ no match : \" + target.name);\r\n        }\r\n    }\r\n    // Update\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"updatingInstruction\");\r\n      console.log(updatingInstruction);\r\n    }\r\n    this.props.onchange(updatingInstruction);\r\n  }\r\n  handleDelete() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Instruction.handleDelete \" + this.props.instruction.uid);\r\n    }\r\n    this.props.ondelete(this.props.instruction.uid);\r\n  }\r\n}\r\n\r\nclass ConfirmModal extends React.Component {\r\n  /* Inputs\r\n  open\r\n  text\r\n  title  \r\n  */\r\n  constructor(props) {\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"ConfirmModal.constructor\");\r\n    }\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleConfirm = this.handleConfirm.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"ConfirmModal.render\");\r\n    }\r\n    return (\r\n      <Dialog open={this.props.open} onClose={this.handleClose}>\r\n        <DialogTitle>{this.props.content.title}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>{this.props.content.text}</DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={this.handleClose}>\r\n            {appcopy[\"generic\"][\"button\"][\"cancel\"][this.props.language]}\r\n          </Button>\r\n          <Button onClick={this.handleConfirm} autoFocus>\r\n            {appcopy[\"generic\"][\"button\"][\"confirm\"][this.props.language]}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n\r\n  // Handles\r\n  handleClose() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"ConfirmModal.handleClose\");\r\n    }\r\n    this.props.onclose();\r\n  }\r\n  handleConfirm() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"ConfirmModal.handleConfirm\");\r\n    }\r\n    this.props.onconfirm();\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemButton,\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  Typography,\r\n  Fab,\r\n  TextField,\r\n  Box,\r\n  DialogContentText,\r\n  Card,\r\n  CardContent,\r\n  CardActions\r\n} from \"@mui/material\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\n//import EditIcon from \"@mui/icons-material/Edit\";\r\nimport SaveIcon from \"@mui/icons-material/Save\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport RemoveIcon from \"@mui/icons-material/Remove\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport RestartAltIcon from \"@mui/icons-material/RestartAlt\";\r\nimport TuneIcon from \"@mui/icons-material/Tune\";\r\nimport RestaurantIcon from \"@mui/icons-material/Restaurant\";\r\nimport NoMealsIcon from \"@mui/icons-material/NoMeals\";\r\nimport AutoStoriesIcon from \"@mui/icons-material/AutoStories\";\r\nimport PlaylistAddIcon from \"@mui/icons-material/PlaylistAdd\";\r\n\r\nimport appcopy from \"../copy\";\r\nimport Snack from \"./Snack\";\r\n\r\nexport default class Thisweek extends React.Component {\r\n  constructor(props) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Thisweek.constructor\");\r\n    }\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Thisweek language = \" + this.props.language);\r\n    }\r\n    this.state = {\r\n      recipiesHeight: 300\r\n    };\r\n    // Updates\r\n    this.updateRecipiesHeight = this.updateRecipiesHeight.bind(this);\r\n    // Handles\r\n    this.handleSnack = this.handleSnack.bind(this);\r\n    this.handleRemove = this.handleRemove.bind(this);\r\n    this.handleReplace = this.handleReplace.bind(this);\r\n    this.handleCook = this.handleCook.bind(this);\r\n    this.handleScale = this.handleScale.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Thisweek.render\");\r\n    }\r\n    return (\r\n      <div>\r\n        <AppBar sx={{ position: \"relative\" }}>\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={() => this.props.callback(\"openMenu\")}\r\n            >\r\n              <MoreVertIcon />\r\n            </IconButton>\r\n            <Typography sx={{ ml: 2, flex: 1 }} variant=\"h6\" component=\"div\">\r\n              {appcopy[\"thisweek\"][\"title\"][this.props.language]}\r\n            </Typography>\r\n            <Box>\r\n              <IconButton\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n                onClick={() => {\r\n                  if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                    console.log(\"Thisweek.EmptyIcon.onClick\");\r\n                  }\r\n                  this.props.callback(\"empty\");\r\n                }}\r\n                sx={{ mr: \"0.25em\" }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n              {/*\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={() => {\r\n                if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                  console.log(\"Thisweek.RestartAltIcon.onClick\");\r\n                }\r\n                this.props.callback(\"renew\");\r\n              }}\r\n              sx={{ m: 1 }}\r\n            >\r\n              <RestartAltIcon />\r\n            </IconButton> */}\r\n              <IconButton\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n                onClick={() => {\r\n                  if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                    console.log(\"Thisweek.AddIcon.onClick\");\r\n                  }\r\n                  this.props.callback(\"add\");\r\n                }}\r\n              >\r\n                <PlaylistAddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <Box style={{ maxHeight: this.state.recipiesHeight, overflow: \"auto\" }}>\r\n          <Box>\r\n            <List dense={true}>\r\n              {this.props.values.map((recipe) => (\r\n                <ThisweekRecipe\r\n                  key={\"need-\" + recipe._id}\r\n                  recipe={recipe}\r\n                  callback={this.props.callback}\r\n                />\r\n              ))}\r\n            </List>\r\n          </Box>\r\n          <Snack\r\n            snackOpen={this.state.snackOpen}\r\n            snack={this.state.snack}\r\n            callback={this.handleSnack}\r\n            language={this.props.language}\r\n          />\r\n        </Box>\r\n      </div>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Thisweek.componentDidMount\");\r\n    }\r\n    // Update\r\n    this.updateRecipiesHeight();\r\n  }\r\n\r\n  // Updates\r\n  updateRecipiesHeight() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Thisweek.updateRecipiesHeight\");\r\n    }\r\n    this.setState({\r\n      recipiesHeight: window.innerHeight - 115\r\n    });\r\n  }\r\n\r\n  // Handles\r\n  handleRemove(id) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Thisweek.handleRemove \" + id);\r\n    }\r\n    this.props.callback(\"remove\", { recipeid: id });\r\n  }\r\n  handleReplace(id) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Thisweek.handleReplace \" + id);\r\n    }\r\n    this.props.callback(\"replace\", { recipeid: id });\r\n  }\r\n  handleCook(id) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Thisweek.handleCook \" + id);\r\n    }\r\n    this.props.callback(\"cook\", { recipeid: id });\r\n  }\r\n  handleScale(id, command) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Thisweek.handleScale \" + command + \" \" + id);\r\n    }\r\n    this.props.callback(\"scale\", { recipeid: id, increment: command });\r\n  }\r\n  handleSnack(action) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Thisweek.handleSnack \" + action);\r\n    }\r\n    switch (action) {\r\n      case \"close\":\r\n        this.setState((prevState, props) => ({\r\n          openSnack: false\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n}\r\n\r\nclass ThisweekRecipe extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"ThisweekRecipe.constructor \" + this.props.recipe._id);\r\n    }\r\n    // Handlers\r\n    this.handleRemove = this.handleRemove.bind(this);\r\n    this.handleReplace = this.handleReplace.bind(this);\r\n    this.handleCook = this.handleCook.bind(this);\r\n    this.handleScale = this.handleScale.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"ThisweekRecipe.render \" + this.props.recipe._id);\r\n    }\r\n    return (\r\n      <ListItem key={\"need-\" & this.props.recipe._id}>\r\n        <Card sx={{ width: \"100%\", pl: \"1em\", pr: \"1em\" }}>\r\n          <Typography>{this.props.recipe.name}</Typography>\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"space-between\"\r\n            }}\r\n          >\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                justifyContent: \"flex-end\"\r\n              }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  this.handleRemove();\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n              <IconButton\r\n                onClick={() => {\r\n                  this.handleReplace();\r\n                }}\r\n                disabled={true}\r\n              >\r\n                <RestartAltIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                justifyContent: \"flex-end\",\r\n                alignItems: \"center\"\r\n              }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  this.handleScale(\"down\");\r\n                }}\r\n                disabled={this.props.recipe.scale === 1}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <Typography sx={{ width: \"2.5em\", textAlign: \"center\" }}>\r\n                {this.props.recipe.scale}\r\n              </Typography>\r\n              <IconButton\r\n                onClick={() => {\r\n                  this.handleScale(\"up\");\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                justifyContent: \"flex-end\",\r\n                alignItems: \"center\"\r\n              }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  this.handleScale(\"down\");\r\n                }}\r\n                disabled={true}\r\n              >\r\n                <AutoStoriesIcon />\r\n              </IconButton>\r\n              {/*<IconButton\r\n              onClick={() => {\r\n                this.handleCook();\r\n              }}\r\n            >\r\n              <RestaurantIcon />\r\n              {/*this.props.recipe.cooked && <RestaurantIcon />}\r\n              {!this.props.recipe.cooked && <NoMealsIcon />\r\n            </IconButton>*/}\r\n            </Box>\r\n          </Box>\r\n        </Card>\r\n      </ListItem>\r\n    );\r\n  }\r\n\r\n  // Handles\r\n  handleRemove() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"ThisweekRecipe.handleRemove \" + this.props.recipe._id);\r\n    }\r\n    this.props.callback(\"remove\", { recipeid: this.props.recipe._id });\r\n  }\r\n  handleReplace() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"ThisweekRecipe.handleReplace \" + this.props.recipe._id);\r\n    }\r\n    this.props.callback(\"replace\", { recipeid: this.props.recipe._id });\r\n  }\r\n  handleCook() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"ThisweekRecipe.handleCook \" + this.props.recipe._id);\r\n    }\r\n    this.props.callback(\"cook\", { recipeid: this.props.recipe._id });\r\n  }\r\n  handleScale(command) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"ThisweekRecipe.handleScale \" + command);\r\n    }\r\n    switch (command) {\r\n      case \"down\":\r\n        if (this.props.recipe.scale > 1) {\r\n          this.props.callback(\"scale\", {\r\n            recipeid: this.props.recipe._id,\r\n            increment: command\r\n          });\r\n        }\r\n        break;\r\n      case \"up\":\r\n        this.props.callback(\"scale\", {\r\n          recipeid: this.props.recipe._id,\r\n          increment: command\r\n        });\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemButton,\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  Typography,\r\n  Fab,\r\n  TextField,\r\n  Box,\r\n  DialogContentText,\r\n  Card,\r\n  CardContent,\r\n  CardActions\r\n} from \"@mui/material\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\n//import EditIcon from \"@mui/icons-material/Edit\";\r\nimport SaveIcon from \"@mui/icons-material/Save\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport RemoveIcon from \"@mui/icons-material/Remove\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport RestartAltIcon from \"@mui/icons-material/RestartAlt\";\r\nimport TuneIcon from \"@mui/icons-material/Tune\";\r\nimport RestaurantIcon from \"@mui/icons-material/Restaurant\";\r\nimport NoMealsIcon from \"@mui/icons-material/NoMeals\";\r\nimport AutoStoriesIcon from \"@mui/icons-material/AutoStories\";\r\nimport CheckBoxIcon from \"@mui/icons-material/CheckBox\";\r\nimport CheckBoxOutlineBlankIcon from \"@mui/icons-material/CheckBoxOutlineBlank\";\r\n\r\nimport appcopy from \"../copy\";\r\nimport Snack from \"./Snack\";\r\nimport UIShelf from \"./uicomponents/uishelf\";\r\n\r\nexport default class Fridge extends React.Component {\r\n  constructor(props) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Fridge.constructor\");\r\n    }\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Fridge language = \" + this.props.language);\r\n    }\r\n    this.state = {\r\n      recipiesHeight: 300\r\n    };\r\n    // Updates\r\n    this.updateFridgeHeight = this.updateFridgeHeight.bind(this);\r\n    // Handles\r\n    this.handleSnack = this.handleSnack.bind(this);\r\n    this.handleEmpty = this.handleEmpty.bind(this);\r\n    this.handleHave = this.handleHave.bind(this);\r\n    this.handleIncrement = this.handleIncrement.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Fridge.render\");\r\n    }\r\n    return (\r\n      <Box>\r\n        <AppBar sx={{ position: \"relative\" }}>\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={() => this.props.callback(\"openMenu\")}\r\n            >\r\n              <MoreVertIcon />\r\n            </IconButton>\r\n            <Typography sx={{ ml: 2, flex: 1 }} variant=\"h6\" component=\"div\">\r\n              {appcopy[\"fridge\"][\"title\"][this.props.language]}\r\n            </Typography>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={() => {\r\n                if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                  console.log(\"Fridge.EmptyIcon.onClick\");\r\n                }\r\n                this.handleEmpty();\r\n              }}\r\n            >\r\n              <DeleteIcon />\r\n            </IconButton>\r\n          </Toolbar>\r\n        </AppBar>\r\n\r\n        <Box style={{ maxHeight: this.state.recipiesHeight, overflow: \"auto\" }}>\r\n          <Typography sx={{ ml: 2, flex: 1 }} variant=\"h6\" component=\"div\">\r\n            {appcopy[\"fridge\"][\"subsection\"][\"ihavent\"][this.props.language]}\r\n          </Typography>\r\n          <Box>\r\n            {this.props.shelfs.map((shelf) => {\r\n              //console.log(this.props.tertiaryingredients);\r\n              //console.log(\"SHELF : \" + shelf.name);\r\n              // filter\r\n              function filter(ingredient) {\r\n                //console.log(ingredient);\r\n                let status = (ingredient.available || 0) < ingredient.quantity;\r\n                //console.log(status);\r\n                return status;\r\n              }\r\n              //console.log(\"this.props.ingredients : \");\r\n              //console.log(this.props.ingredients);\r\n              let sublist = this.props.ingredients.filter((ingredient) => {\r\n                return filter(ingredient) && ingredient.shelf === shelf._id;\r\n              });\r\n              //console.log(\"sublist : \");\r\n              //console.log(sublist);\r\n              return (\r\n                <UIShelf\r\n                  shelf={shelf.name}\r\n                  ingredients={sublist}\r\n                  shelfs={this.props.shelfs}\r\n                  callback={this.props.callback}\r\n                  packaging=\"fridge\"\r\n                />\r\n              );\r\n            })}\r\n          </Box>\r\n          <Typography sx={{ ml: 2, flex: 1 }} variant=\"h6\" component=\"div\">\r\n            {appcopy[\"fridge\"][\"subsection\"][\"ihave\"][this.props.language]}\r\n          </Typography>\r\n          <Box>\r\n            {this.props.shelfs.map((shelf) => {\r\n              //console.log(this.props.tertiaryingredients);\r\n              //console.log(\"SHELF : \" + shelf.name);\r\n              // filter\r\n              function filter(ingredient) {\r\n                //console.log(ingredient);\r\n                let status = (ingredient.available || 0) >= ingredient.quantity;\r\n                //console.log(status);\r\n                return status;\r\n              }\r\n              //console.log(\"this.props.ingredients : \");\r\n              //console.log(this.props.ingredients);\r\n              let sublist = this.props.ingredients.filter((ingredient) => {\r\n                return filter(ingredient) && ingredient.shelf === shelf._id;\r\n              });\r\n              //console.log(\"sublist : \");\r\n              //console.log(sublist);\r\n              return (\r\n                <UIShelf\r\n                  shelf={shelf.name}\r\n                  ingredients={sublist}\r\n                  shelfs={this.props.shelfs}\r\n                  callback={this.props.callback}\r\n                  packaging=\"fridge\"\r\n                />\r\n              );\r\n            })}\r\n          </Box>\r\n\r\n          <Snack\r\n            snackOpen={this.state.snackOpen}\r\n            snack={this.state.snack}\r\n            callback={this.handleSnack}\r\n            language={this.props.language}\r\n          />\r\n        </Box>\r\n      </Box>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Fridge.componentDidMount\");\r\n    }\r\n    // Update\r\n    this.updateFridgeHeight();\r\n  }\r\n\r\n  // Updates\r\n  updateFridgeHeight() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Fridge.updateFridgeHeight\");\r\n    }\r\n    this.setState({\r\n      recipiesHeight: window.innerHeight - 115\r\n    });\r\n  }\r\n\r\n  // Handles\r\n  handleEmpty() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Fridge.handleEmpty \");\r\n    }\r\n    this.props.callback(\"empty\");\r\n  }\r\n  handleHave(id) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Fridge.handleHave \" + id);\r\n    }\r\n    this.props.callback(\"have\", { ingredientid: id });\r\n  }\r\n  handleIncrement(id) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Fridge.handleIncrement \" + id);\r\n    }\r\n    console.log(\"Fridge.handleIncrement TODO \" + id);\r\n    this.props.callback(\"increment\", { ingredientid: id });\r\n  }\r\n  handleSnack(action) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Fridge.handleSnack \" + action);\r\n    }\r\n    switch (action) {\r\n      case \"close\":\r\n        this.setState((prevState, props) => ({\r\n          openSnack: false\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n}\r\n\r\nclass FridgeIngredient extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"FridgeIngredient.constructor \" + this.props.ingredient._id);\r\n    }\r\n    // Handlers\r\n    this.handleHave = this.handleHave.bind(this);\r\n    this.handleIncrement = this.handleIncrement.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"FridgeIngredient.render \" + this.props.ingredient._id);\r\n    }\r\n    return (\r\n      <Card sx={{ width: \"100%\", pl: \"1em\", pr: \"1em\" }}>\r\n        <Box\r\n          sx={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"space-between\",\r\n            alignItems: \"center\"\r\n          }}\r\n        >\r\n          <Typography>{this.props.ingredient.name}</Typography>\r\n          <IconButton\r\n            onClick={() => {\r\n              this.handleHave();\r\n            }}\r\n          >\r\n            {this.props.ingredient.quantity <=\r\n              this.props.ingredient.available && <CheckBoxIcon />}\r\n            {(this.props.ingredient.quantity >\r\n              this.props.ingredient.available ||\r\n              this.props.ingredient.available === undefined) && (\r\n              <CheckBoxOutlineBlankIcon />\r\n            )}\r\n          </IconButton>\r\n        </Box>\r\n        <Box\r\n          sx={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\"\r\n          }}\r\n        >\r\n          <IconButton\r\n            onClick={() => {\r\n              this.handleIncrement(\"down\");\r\n            }}\r\n            disabled={true}\r\n          >\r\n            <RemoveIcon />\r\n          </IconButton>\r\n          <Typography sx={{ width: \"8em\", textAlign: \"center\" }}>\r\n            {(Math.round(this.props.ingredient.available * 10) / 10 || 0) +\r\n              \" / \" +\r\n              Math.round(this.props.ingredient.quantity * 10) / 10 +\r\n              \" \" +\r\n              this.props.ingredient.unit}\r\n          </Typography>\r\n          <IconButton\r\n            onClick={() => {\r\n              this.handleIncrement(\"up\");\r\n            }}\r\n            disabled={true}\r\n          >\r\n            <AddIcon />\r\n          </IconButton>\r\n        </Box>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  // Handles\r\n  handleHave() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"FridgeIngredient.handleHave \" + this.props.ingredient._id);\r\n    }\r\n    this.props.callback(\"have\", { ingredientid: this.props.ingredient._id });\r\n  }\r\n  handleIncrement(newValue) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\r\n        \"FridgeIngredient.handleIncrement \" +\r\n          newValue +\r\n          \" \" +\r\n          this.props.ingredient._id\r\n      );\r\n    }\r\n    this.props.callback(\"scale\", {\r\n      ingredientid: this.props.ingredient._id,\r\n      incement: newValue\r\n    });\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport {\r\n  Button,\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  Typography,\r\n  TextField,\r\n  Box,\r\n  Card,\r\n  Autocomplete\r\n} from \"@mui/material\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport FormatListBulletedIcon from \"@mui/icons-material/FormatListBulleted\";\r\n\r\nimport appcopy from \"../copy\";\r\nimport Snack from \"./Snack\";\r\nimport UIShelf from \"./uicomponents/uishelf\";\r\n\r\nexport default class Shopping extends React.Component {\r\n  constructor(props) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shopping.constructor\");\r\n    }\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shopping language = \" + this.props.language);\r\n    }\r\n    this.state = {\r\n      recipiesHeight: 300,\r\n      listView: \"block\",\r\n      addingIngredient: \"none\",\r\n      treeCategories: {}\r\n    };\r\n    // Updates\r\n    this.updateShoppingHeight = this.updateShoppingHeight.bind(this);\r\n    // Handles\r\n    this.handleSnack = this.handleSnack.bind(this);\r\n    this.handleEmpty = this.handleEmpty.bind(this);\r\n    this.handleTake = this.handleTake.bind(this);\r\n    this.handleAddtofridge = this.handleAddtofridge.bind(this);\r\n    this.handleEnableAdd = this.handleEnableAdd.bind(this);\r\n    this.handleListView = this.handleListView.bind(this);\r\n  }\r\n  render() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shopping.render\");\r\n    }\r\n    return (\r\n      <Box>\r\n        <AppBar sx={{ position: \"relative\" }}>\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={() => this.props.callback(\"openMenu\")}\r\n            >\r\n              <MoreVertIcon />\r\n            </IconButton>\r\n            <Typography sx={{ ml: 2, flex: 1 }} variant=\"h6\" component=\"div\">\r\n              {appcopy[\"shopping\"][\"title\"][this.props.language]}\r\n            </Typography>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={() => {\r\n                if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                  console.log(\"Shopping.ListIcon.onClick\");\r\n                }\r\n                this.handleListView();\r\n              }}\r\n              sx={{ mr: \"0.25em\", display: \"none\" }}\r\n            >\r\n              <FormatListBulletedIcon />\r\n            </IconButton>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={() => {\r\n                if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                  console.log(\"Shopping.EmptyIcon.onClick\");\r\n                }\r\n                this.handleEmpty();\r\n              }}\r\n            >\r\n              <DeleteIcon />\r\n            </IconButton>\r\n          </Toolbar>\r\n        </AppBar>\r\n\r\n        <Box style={{ maxHeight: this.state.recipiesHeight, overflow: \"auto\" }}>\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"space-between\"\r\n            }}\r\n          >\r\n            <Typography sx={{ ml: 2 }} variant=\"h6\" component=\"div\">\r\n              {\r\n                appcopy[\"shopping\"][\"subsection\"][\"ihavent\"][\r\n                  this.props.language\r\n                ]\r\n              }\r\n            </Typography>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              sx={{ mr: 2, display: \"none\" }}\r\n              onClick={() => {\r\n                if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n                  console.log(\"Shopping.AddIcon.onClick\");\r\n                }\r\n                this.handleEnableAdd();\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <Box>\r\n            {this.props.shelfs.map((shelf) => {\r\n              //console.log(this.props.tertiaryingredients);\r\n              //console.log(\"SHELF : \" + shelf.name);\r\n              // filter\r\n              function filter(ingredient) {\r\n                //console.log(ingredient);\r\n                let status =\r\n                  ingredient.quantity - (ingredient.available || 0) >\r\n                    (ingredient.shopped || 0) &&\r\n                  ingredient.quantity > (ingredient.available || 0);\r\n                //console.log(status);\r\n                return status;\r\n              }\r\n              //console.log(\"this.props.ingredients : \");\r\n              //console.log(this.props.ingredients);\r\n              let sublist = this.props.ingredients.filter((ingredient) => {\r\n                return filter(ingredient) && ingredient.shelf === shelf._id;\r\n              });\r\n              //console.log(\"sublist : \");\r\n              //console.log(sublist);\r\n              return (\r\n                <UIShelf\r\n                  shelf={shelf.name}\r\n                  ingredients={sublist}\r\n                  shelfs={this.props.shelfs}\r\n                  callback={this.props.callback}\r\n                  packaging=\"shopping\"\r\n                />\r\n              );\r\n            })}\r\n          </Box>\r\n          <Typography sx={{ ml: 2, flex: 1 }} variant=\"h6\" component=\"div\">\r\n            {appcopy[\"shopping\"][\"subsection\"][\"ihave\"][this.props.language]}\r\n          </Typography>\r\n          <Box>\r\n            {this.props.shelfs.map((shelf) => {\r\n              //console.log(this.props.shelfs);\r\n              //console.log(\"SHELF : \" + shelf.name);\r\n              // filter\r\n              function filter(ingredient) {\r\n                //console.log(ingredient);\r\n                let status =\r\n                  ingredient.quantity - (ingredient.available || 0) <=\r\n                    (ingredient.shopped || 0) &&\r\n                  ingredient.quantity > (ingredient.available || 0);\r\n                //console.log(status);\r\n                return status;\r\n              }\r\n              //console.log(\"this.props.ingredients : \");\r\n              //console.log(this.props.ingredients);\r\n              let sublist = this.props.ingredients.filter((ingredient) => {\r\n                return filter(ingredient) && ingredient.shelf === shelf._id;\r\n              });\r\n              //console.log(\"sublist : \");\r\n              //console.log(sublist);\r\n              return (\r\n                <UIShelf\r\n                  shelf={shelf.name}\r\n                  ingredients={sublist}\r\n                  shelfs={this.props.shelfs}\r\n                  callback={this.props.callback}\r\n                  packaging=\"shopping\"\r\n                />\r\n              );\r\n            })}\r\n          </Box>\r\n          <Button onClick={() => this.handleAddtofridge()}>\r\n            {appcopy[\"shopping\"][\"button\"][\"addtofridge\"][this.props.language]}\r\n          </Button>\r\n\r\n          <Snack\r\n            snackOpen={this.state.snackOpen}\r\n            snack={this.state.snack}\r\n            callback={this.handleSnack}\r\n            language={this.props.language}\r\n          />\r\n        </Box>\r\n      </Box>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shopping.componentDidMount\");\r\n    }\r\n    // Update\r\n    this.updateShoppingHeight();\r\n  }\r\n\r\n  componentDidUpdate(prevState) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shopping.componentDidUpdate\");\r\n      //console.log(\"Shopping.state\");\r\n      //console.log(this.state);\r\n    }\r\n    if (prevState.ingredients !== this.props.ingredients) {\r\n      //\r\n    }\r\n  }\r\n\r\n  // Updates\r\n  updateShoppingHeight() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shopping.updateShoppingHeight\");\r\n    }\r\n    this.setState({\r\n      recipiesHeight: window.innerHeight - 130\r\n    });\r\n  }\r\n\r\n  // Handles\r\n  handleEmpty() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shopping.handleEmpty \");\r\n    }\r\n    this.props.callback(\"empty\");\r\n  }\r\n  handleTake(id) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shopping.handleTake \" + id);\r\n    }\r\n    this.props.callback(\"take\", { ingredientid: id });\r\n  }\r\n  handleAddtofridge() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shopping.handleAddtofridge \");\r\n    }\r\n    this.props.callback(\"addtofridge\");\r\n  }\r\n  handleListView() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shopping.handleListView\");\r\n    }\r\n    switch (this.state.listView) {\r\n      case \"none\":\r\n        this.setState((prevState, props) => ({\r\n          listView: \"block\"\r\n        }));\r\n        break;\r\n      case \"block\":\r\n        this.setState((prevState, props) => ({\r\n          listView: \"none\"\r\n        }));\r\n        break;\r\n      default:\r\n        console.log(\"Shopping.handleListView unmatched \" + this.state.listView);\r\n        this.setState((prevState, props) => ({\r\n          listView: \"none\"\r\n        }));\r\n    }\r\n  }\r\n  handleEnableAdd() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shopping.handleEnableAdd\");\r\n    }\r\n    switch (this.state.addingIngredient) {\r\n      case \"none\":\r\n        this.setState((prevState, props) => ({\r\n          addingIngredient: \"block\"\r\n        }));\r\n        break;\r\n      case \"block\":\r\n        this.setState((prevState, props) => ({\r\n          addingIngredient: \"none\"\r\n        }));\r\n        break;\r\n      default:\r\n        console.log(\r\n          \"Shopping.handleEnableAdd unmatched \" + this.state.addingIngredient\r\n        );\r\n        this.setState((prevState, props) => ({\r\n          addingIngredient: \"none\"\r\n        }));\r\n    }\r\n  }\r\n  handleSnack(action) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"Shopping.handleSnack \" + action);\r\n    }\r\n    switch (action) {\r\n      case \"close\":\r\n        this.setState((prevState, props) => ({\r\n          openSnack: false\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport {\r\n  Paper,\r\n  Box,\r\n  BottomNavigation,\r\n  BottomNavigationAction\r\n} from \"@mui/material\";\r\nimport BalanceIcon from \"@mui/icons-material/Balance\";\r\nimport BookIcon from \"@mui/icons-material/Book\";\r\nimport EventIcon from \"@mui/icons-material/Event\";\r\nimport KitchenIcon from \"@mui/icons-material/Kitchen\";\r\nimport ShoppingBagIcon from \"@mui/icons-material/ShoppingBag\";\r\n\r\nimport appcopy from \"./copy\";\r\n\r\n// UIs\r\nimport AppMenu from \"./components/AppMenu\";\r\nimport Ingredient from \"./components/Ingredient\";\r\nimport Ingredients from \"./components/Ingredients\";\r\nimport Shelf from \"./components/Shelf\";\r\nimport Shelfs from \"./components/Shelfs\";\r\nimport Shop from \"./components/Shop\";\r\nimport Shops from \"./components/Shops\";\r\nimport Category from \"./components/Category\";\r\nimport Categories from \"./components/Categories\";\r\nimport Balance from \"./components/Balance\";\r\nimport Myrecipies from \"./components/Myrecipies\";\r\nimport Recipe from \"./components/Recipe\";\r\nimport Thisweek from \"./components/Thisweek\";\r\nimport Fridge from \"./components/Fridge\";\r\nimport Shopping from \"./components/Shopping\";\r\nimport Snack from \"./components/Snack\";\r\n\r\n// APIs\r\nimport {\r\n  apiGetIngredients,\r\n  apiGetShelfs,\r\n  apiGetShops,\r\n  apiGetRecipies,\r\n  apiGetCategories\r\n} from \"./api/gets\";\r\nimport {\r\n  apiSetRecipeSelect,\r\n  apiSetThisweekEmpty,\r\n  apiSetThisweekRecipeAdd,\r\n  apiSetThisweekRenew,\r\n  apiSetThisweekRecipeReplace,\r\n  apiSetThisweekRecipeScale,\r\n  apiSetThisweekRecipePrepare,\r\n  apiSetThisweekNeeds,\r\n  apiSetFridgeEmpty,\r\n  apiSetFridgeHave,\r\n  apiSetShoppingEmpty,\r\n  apiSetShoppingTake,\r\n  apiSetShoppingAddtofridge\r\n} from \"./api/sets\";\r\n\r\nexport default class App extends React.Component {\r\n  constructor(props) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"App.constructor\");\r\n    }\r\n    super(props);\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"App language = \" + this.props.language);\r\n    }\r\n    this.state = {\r\n      selectedTab: 1,\r\n      snack: undefined,\r\n      openSnack: null,\r\n      menulist: [],\r\n      openMenu: false,\r\n      openIngredient: false,\r\n      openIngredients: false,\r\n      openCategory: false,\r\n      openCategories: false,\r\n      openShelf: false,\r\n      openShelfs: false,\r\n      openShop: false,\r\n      openShops: false,\r\n      openRecipe: false,\r\n      ingredientid: undefined,\r\n      shelfid: undefined,\r\n      shopid: undefined,\r\n      recipeid: undefined,\r\n      categoryid: undefined,\r\n      apiIngredients: [],\r\n      apiShelfs: [],\r\n      apiShops: [],\r\n      apiCategories: [],\r\n      apiMyrecipies: [],\r\n      apiThisweekrecipies: [],\r\n      apiThisweekingredients: []\r\n      //api_Transactions: [],\r\n      //api_TransactionCategories: [],\r\n    };\r\n\r\n    // APIs\r\n    this.api = this.api.bind(this);\r\n\r\n    // Handles\r\n    this.handleChangeTab = this.handleChangeTab.bind(this);\r\n    this.handleSnack = this.handleSnack.bind(this);\r\n    this.handleMenu = this.handleMenu.bind(this);\r\n    this.handleIngredient = this.handleIngredient.bind(this);\r\n    this.handleShelf = this.handleShelf.bind(this);\r\n    this.handleShop = this.handleShop.bind(this);\r\n    this.handleCategory = this.handleCategory.bind(this);\r\n    this.handleRecipe = this.handleRecipe.bind(this);\r\n    this.handleMyrecipies = this.handleMyrecipies.bind(this);\r\n    this.handleThisweek = this.handleThisweek.bind(this);\r\n    this.handleFridge = this.handleFridge.bind(this);\r\n    this.handleShopping = this.handleShopping.bind(this);\r\n    this.handleBalance = this.handleBalance.bind(this);\r\n  }\r\n  render() {\r\n    return (\r\n      <Box>\r\n        <AppMenu\r\n          language={this.props.language}\r\n          open={this.state.openMenu}\r\n          values={this.state.menulist}\r\n          callback={this.handleMenu}\r\n        />\r\n\r\n        <Ingredient\r\n          language={this.props.language}\r\n          open={this.state.openIngredient}\r\n          ingredient={this.state.ingredientid}\r\n          shelfs={this.state.apiShelfs}\r\n          callback={this.handleIngredient}\r\n        />\r\n        <Ingredients\r\n          language={this.props.language}\r\n          open={this.state.openIngredients}\r\n          ingredients={this.state.apiIngredients}\r\n          shelfs={this.state.apiShelfs}\r\n          callback={this.handleIngredient}\r\n        />\r\n\r\n        <Shelf\r\n          language={this.props.language}\r\n          open={this.state.openShelf}\r\n          shelf={this.state.shelfid}\r\n          shops={this.state.apiShops}\r\n          shelfs={this.state.apiShelfs}\r\n          callback={this.handleShelf}\r\n        />\r\n        <Shelfs\r\n          language={this.props.language}\r\n          open={this.state.openShelfs}\r\n          shelfs={this.state.apiShelfs}\r\n          shops={this.state.apiShops}\r\n          callback={this.handleShelf}\r\n        />\r\n\r\n        <Shop\r\n          language={this.props.language}\r\n          open={this.state.openShop}\r\n          shop={this.state.shopid}\r\n          callback={this.handleShop}\r\n        />\r\n        <Shops\r\n          language={this.props.language}\r\n          open={this.state.openShops}\r\n          shops={this.state.apiShops}\r\n          callback={this.handleShop}\r\n        />\r\n\r\n        <Category\r\n          language={this.props.language}\r\n          open={this.state.openCategory}\r\n          values={this.state.categoryid}\r\n          callback={this.handleCategory}\r\n        />\r\n        <Categories\r\n          language={this.props.language}\r\n          open={this.state.openCategories}\r\n          values={this.state.apiCategories}\r\n          callback={this.handleCategory}\r\n        />\r\n\r\n        <Recipe\r\n          language={this.props.language}\r\n          open={this.state.openRecipe}\r\n          values={this.state.recipeid}\r\n          callback={this.handleRecipe}\r\n        />\r\n\r\n        <AppTabPanel\r\n          value={this.state.selectedTab}\r\n          index={0}\r\n          key={\"myrecipies\"}\r\n        >\r\n          <Myrecipies\r\n            language={this.props.language}\r\n            values={this.state.apiMyrecipies}\r\n            callback={this.handleMyrecipies}\r\n          />\r\n        </AppTabPanel>\r\n        <AppTabPanel value={this.state.selectedTab} index={1} key={\"thisweek\"}>\r\n          <Thisweek\r\n            language={this.props.language}\r\n            values={this.state.apiThisweekrecipies}\r\n            callback={this.handleThisweek}\r\n          />\r\n        </AppTabPanel>\r\n        <AppTabPanel value={this.state.selectedTab} index={2} key={\"fridge\"}>\r\n          <Fridge\r\n            language={this.props.language}\r\n            ingredients={this.state.apiThisweekingredients}\r\n            shelfs={this.state.apiShelfs}\r\n            callback={this.handleFridge}\r\n          />\r\n        </AppTabPanel>\r\n        <AppTabPanel value={this.state.selectedTab} index={3} key={\"shopping\"}>\r\n          <Shopping\r\n            language={this.props.language}\r\n            ingredients={this.state.apiThisweekingredients}\r\n            secondaryvalues={this.state.apiIngredients}\r\n            shelfs={this.state.apiShelfs}\r\n            callback={this.handleShopping}\r\n          />\r\n        </AppTabPanel>\r\n        <AppTabPanel value={this.state.selectedTab} index={4} key={\"mybalance\"}>\r\n          <Balance\r\n            language={this.props.language}\r\n            callback={this.handleBalance}\r\n          />\r\n        </AppTabPanel>\r\n        <Paper\r\n          sx={{ position: \"fixed\", bottom: 0, left: 0, right: 0 }}\r\n          elevation={3}\r\n        >\r\n          <Box>\r\n            <BottomNavigation\r\n              value={this.state.selectedTab}\r\n              onChange={this.handleChangeTab}\r\n            >\r\n              <BottomNavigationAction\r\n                icon={<BookIcon />}\r\n                sx={{ ml: \"-1em\", mr: \"-1em\" }}\r\n                onClick={() => this.api(\"LoadMyrecipies\")}\r\n              />\r\n              <BottomNavigationAction\r\n                icon={<EventIcon />}\r\n                sx={{ ml: \"-1em\", mr: \"-1em\" }}\r\n                onClick={() => this.api(\"LoadThisweekrecipies\")}\r\n              />\r\n              <BottomNavigationAction\r\n                icon={<KitchenIcon />}\r\n                sx={{ ml: \"-1em\", mr: \"-1em\" }}\r\n                onClick={() => this.api(\"LoadThisweekingredients\")}\r\n              />\r\n              <BottomNavigationAction\r\n                icon={<ShoppingBagIcon />}\r\n                sx={{ ml: \"-1em\", mr: \"-1em\" }}\r\n                onClick={() => this.api(\"LoadThisweekingredients\")}\r\n              />\r\n              <BottomNavigationAction\r\n                icon={<BalanceIcon />}\r\n                sx={{ ml: \"-1em\", mr: \"-1em\" }}\r\n              />\r\n            </BottomNavigation>\r\n            {/**\r\n            <Tabs\r\n              value={this.state.selectedTab}\r\n              onChange={this.handleChangeTab}\r\n              variant=\"fullWidth\"\r\n              sx={{ ml: \"-1em\", mr: \"-1em\" }}\r\n            >\r\n              <Tab\r\n                icon={<BookIcon />}\r\n                id={\"navtab-\" + 0}\r\n                aria-controls={\"navtabpanel-\" + 0}\r\n                key={\"myrecipies\"}\r\n                onClick={() => this.api(\"LoadMyrecipies\")}\r\n              />\r\n              <Tab\r\n                icon={<EventIcon />}\r\n                id={\"navtab-\" + 1}\r\n                aria-controls={\"navtabpanel-\" + 1}\r\n                key={\"thisweek\"}\r\n                onClick={() => this.api(\"LoadThisweekrecipies\")}\r\n              />\r\n              <Tab\r\n                icon={<KitchenIcon />}\r\n                id={\"navtab-\" + 2}\r\n                aria-controls={\"navtabpanel-\" + 2}\r\n                key={\"fridge\"}\r\n                onClick={() => this.api(\"LoadThisweekingredients\")}\r\n              />\r\n              <Tab\r\n                icon={<ShoppingBagIcon />}\r\n                id={\"navtab-\" + 3}\r\n                aria-controls={\"navtabpanel-\" + 3}\r\n                key={\"shopping\"}\r\n                onClick={() => this.api(\"LoadThisweekingredients\")}\r\n              />\r\n              <Tab\r\n                icon={<BalanceIcon />}\r\n                id={\"navtab-\" + 4}\r\n                aria-controls={\"navtabpanel-\" + 4}\r\n                key={\"mybalance\"}\r\n              />\r\n            </Tabs> */}\r\n          </Box>\r\n        </Paper>\r\n\r\n        <Snack\r\n          language={this.props.language}\r\n          open={this.state.openSnack}\r\n          snack={this.state.snack}\r\n          callback={this.handleSnack}\r\n        />\r\n      </Box>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"App.componentDidMount\");\r\n    }\r\n    // Update\r\n    this.setState((prevState, props) => ({\r\n      menulist: [\r\n        {\r\n          name: appcopy[\"ingredients\"][\"title\"][this.props.language],\r\n          callback: () => {\r\n            this.handleIngredient(\"openList\");\r\n          }\r\n        },\r\n        {\r\n          name: appcopy[\"shelfs\"][\"title\"][this.props.language],\r\n          callback: () => {\r\n            this.handleShelf(\"openList\");\r\n          }\r\n        },\r\n        {\r\n          name: appcopy[\"shops\"][\"title\"][this.props.language],\r\n          callback: () => {\r\n            this.handleShop(\"openList\");\r\n          }\r\n        } /*,\r\n        {\r\n          name: \"CATEGORIES\",\r\n          callback: () => {\r\n            this.handleCategory(\"openList\");\r\n          }\r\n        }*/\r\n      ]\r\n    }));\r\n    this.api(\"LoadIngredients\");\r\n    this.api(\"LoadShelfs\");\r\n    this.api(\"LoadShops\");\r\n    this.api(\"LoadCategories\");\r\n    this.api(\"LoadMyrecipies\");\r\n    this.api(\"LoadThisweekrecipies\");\r\n    this.api(\"LoadThisweekingredients\");\r\n  }\r\n\r\n  // API\r\n  api(source, details) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"App.api \" + source);\r\n    }\r\n    console.log(\"App.api \" + source);\r\n    switch (source) {\r\n      case \"LoadIngredients\":\r\n        apiGetIngredients({\r\n          need: \"ingredients\"\r\n        }).then((res) => {\r\n          if (res.status === 200) {\r\n            this.setState({\r\n              apiIngredients: res.ingredients\r\n            });\r\n          } else {\r\n            this.setState((prevState, props) => ({\r\n              apiIngredients: [],\r\n              openSnack: [],\r\n              snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n            }));\r\n          }\r\n        });\r\n        break;\r\n      case \"LoadShelfs\":\r\n        apiGetShelfs({\r\n          need: \"shelfs\"\r\n        }).then((res) => {\r\n          if (res.status === 200) {\r\n            this.setState({\r\n              apiShelfs: res.shelfs\r\n            });\r\n          } else {\r\n            this.setState((prevState, props) => ({\r\n              apiShelfs: [],\r\n              openSnack: [],\r\n              snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n            }));\r\n          }\r\n        });\r\n        break;\r\n      case \"LoadShops\":\r\n        apiGetShops({\r\n          need: \"shops\"\r\n        }).then((res) => {\r\n          if (res.status === 200) {\r\n            this.setState({\r\n              apiShops: res.shops\r\n            });\r\n          } else {\r\n            this.setState((prevState, props) => ({\r\n              apiShops: [],\r\n              openSnack: [],\r\n              snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n            }));\r\n          }\r\n        });\r\n        break;\r\n      case \"LoadCategories\":\r\n        apiGetCategories({\r\n          need: \"categories\"\r\n        }).then((res) => {\r\n          if (res.status === 200) {\r\n            this.setState({\r\n              apiCategories: res.categories\r\n            });\r\n          } else {\r\n            this.setState((prevState, props) => ({\r\n              apiCategories: [],\r\n              openSnack: [],\r\n              snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n            }));\r\n          }\r\n        });\r\n        break;\r\n      case \"AppendIngredients\":\r\n        var previousIngredients = this.state.apiIngredients;\r\n        previousIngredients.push(details.newIngredient);\r\n        this.setState((prevState, props) => ({\r\n          apiIngredients: previousIngredients\r\n        }));\r\n        break;\r\n      case \"LoadMyrecipies\":\r\n        apiGetRecipies({\r\n          need: \"myrecipies\"\r\n        }).then((res) => {\r\n          if (res.status === 200) {\r\n            this.setState({\r\n              apiMyrecipies: res.recipies\r\n            });\r\n          } else {\r\n            this.setState((prevState, props) => ({\r\n              apiMyrecipies: [],\r\n              openSnack: true,\r\n              snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n            }));\r\n          }\r\n        });\r\n        break;\r\n      case \"LoadThisweekrecipies\":\r\n        apiGetRecipies({\r\n          need: \"thisweek\"\r\n        }).then((res) => {\r\n          if (res.status === 200) {\r\n            this.setState({\r\n              apiThisweekrecipies: res.recipies\r\n            });\r\n          } else {\r\n            this.setState((prevState, props) => ({\r\n              apiThisweekrecipies: [],\r\n              openSnack: true,\r\n              snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n            }));\r\n          }\r\n        });\r\n        break;\r\n      case \"LoadThisweekingredients\":\r\n        apiSetThisweekNeeds().then((res) => {\r\n          //console.log(\"App.apiLoadThisweekingredients.res\");\r\n          //console.log(res);\r\n          //apiGetIngredients({\r\n          //  need: \"fridge\"\r\n          //}).then((res) => {\r\n          if (res.status === 200) {\r\n            this.setState({\r\n              apiThisweekingredients: res.ingredients\r\n            });\r\n          } else {\r\n            this.setState((prevState, props) => ({\r\n              apiThisweekingredients: [],\r\n              openSnack: true,\r\n              snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n            }));\r\n          }\r\n        });\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n  // Handlers\r\n  handleChangeTab(event, newTabIndex) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"App.handleChangeTab \" + newTabIndex);\r\n    }\r\n    switch (newTabIndex) {\r\n      default:\r\n        if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n          console.log(\"/!\\\\ no match tab index : \" + newTabIndex);\r\n        }\r\n    }\r\n    this.setState({\r\n      selectedTab: newTabIndex\r\n    });\r\n  }\r\n  handleMenu(action) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"App.handleMenu \" + action);\r\n    }\r\n    console.log(\"App.handleMenu \" + action);\r\n    switch (action) {\r\n      case \"open\":\r\n        this.setState((prevState, props) => ({\r\n          openMenu: true\r\n        }));\r\n        break;\r\n      case \"close\":\r\n        this.setState((prevState, props) => ({\r\n          openMenu: false\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n  handleIngredient(action, details) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"App.handleIngredient \" + action);\r\n    }\r\n    console.log(\"App.handleIngredient \" + action);\r\n    switch (action) {\r\n      case \"openItem\":\r\n        this.setState((prevState, props) => ({\r\n          openIngredient: true,\r\n          ingredientid: details.ingredientid\r\n        }));\r\n        break;\r\n      case \"closeItem\":\r\n        this.setState((prevState, props) => ({\r\n          openIngredient: false\r\n        }));\r\n        break;\r\n      case \"openList\":\r\n        this.api(\"LoadIngredients\");\r\n        this.setState((prevState, props) => ({\r\n          openIngredients: true\r\n        }));\r\n        break;\r\n      case \"closeList\":\r\n        this.setState((prevState, props) => ({\r\n          openIngredients: false\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n  handleShelf(action, details) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"App.handleShelf \" + action);\r\n    }\r\n    console.log(\"App.handleShelf \" + action);\r\n    switch (action) {\r\n      case \"openItem\":\r\n        this.setState((prevState, props) => ({\r\n          openShelf: true,\r\n          shelfid: details.shelfid\r\n        }));\r\n        break;\r\n      case \"closeItem\":\r\n        this.setState((prevState, props) => ({\r\n          openShelf: false\r\n        }));\r\n        break;\r\n      case \"openList\":\r\n        this.api(\"LoadShelfs\");\r\n        this.setState((prevState, props) => ({\r\n          openShelfs: true\r\n        }));\r\n        break;\r\n      case \"closeList\":\r\n        this.setState((prevState, props) => ({\r\n          openShelfs: false\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n  handleShop(action, details) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"App.handleShop \" + action);\r\n    }\r\n    console.log(\"App.handleShop \" + action);\r\n    switch (action) {\r\n      case \"openItem\":\r\n        this.setState((prevState, props) => ({\r\n          openShop: true,\r\n          shopid: details.shopid\r\n        }));\r\n        break;\r\n      case \"closeItem\":\r\n        this.setState((prevState, props) => ({\r\n          openShop: false\r\n        }));\r\n        break;\r\n      case \"openList\":\r\n        this.api(\"LoadShops\");\r\n        this.setState((prevState, props) => ({\r\n          openShops: true\r\n        }));\r\n        break;\r\n      case \"closeList\":\r\n        this.setState((prevState, props) => ({\r\n          openShops: false\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n  handleCategory(action, details) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"App.handleCategory \" + action);\r\n    }\r\n    console.log(\"App.handleCategory \" + action);\r\n    switch (action) {\r\n      case \"openItem\":\r\n        this.setState((prevState, props) => ({\r\n          openCategory: true,\r\n          categoryid: details.categoryid\r\n        }));\r\n        break;\r\n      case \"closeItem\":\r\n        this.setState((prevState, props) => ({\r\n          openCategory: false\r\n        }));\r\n        break;\r\n      case \"openList\":\r\n        this.api(\"LoadCategories\");\r\n        this.setState((prevState, props) => ({\r\n          openCategories: true\r\n        }));\r\n        break;\r\n      case \"closeList\":\r\n        this.setState((prevState, props) => ({\r\n          openCategories: false\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n  handleRecipe(action, details) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"App.handleRecipe \" + action);\r\n    }\r\n    console.log(\"App.handleRecipe \" + action);\r\n    let tmpMyrecipies = [];\r\n    let tmpThisweekrecipies = [];\r\n    switch (action) {\r\n      case \"openItem\":\r\n        this.setState((prevState, props) => ({\r\n          openRecipe: true,\r\n          recipeid: details.recipeid\r\n        }));\r\n        break;\r\n      case \"closeItem\":\r\n        this.setState((prevState, props) => ({\r\n          openRecipe: false\r\n        }));\r\n        break;\r\n      case \"selectItem\":\r\n        // Local\r\n        tmpMyrecipies = this.state.apiMyrecipies;\r\n        tmpMyrecipies.map((recipe) => {\r\n          if (recipe._id === details.recipeid) {\r\n            if (recipe.selected === true) {\r\n              recipe.selected = false;\r\n            } else {\r\n              recipe.selected = true;\r\n            }\r\n          }\r\n          return recipe;\r\n        });\r\n        tmpThisweekrecipies = this.state.apiThisweekrecipies;\r\n        for (var i = 0; i < tmpThisweekrecipies.length; i++) {\r\n          if (tmpThisweekrecipies[i]._id === details.recipeid) {\r\n            tmpThisweekrecipies.splice(i, 1);\r\n            break;\r\n          }\r\n        }\r\n        this.setState({\r\n          apiThisweekrecipies: tmpThisweekrecipies,\r\n          apiMyrecipies: tmpMyrecipies\r\n        });\r\n        // Distant\r\n        apiSetRecipeSelect(details.recipeid);\r\n        break;\r\n      case \"scaleItem\":\r\n        // Local\r\n        tmpThisweekrecipies = this.state.apiThisweekrecipies;\r\n        tmpThisweekrecipies.map((recipe) => {\r\n          if (recipe._id === details.recipeid) {\r\n            if (recipe.selected === true) {\r\n              if (details.increment === \"up\") {\r\n                recipe.scale += 1;\r\n              }\r\n              if (details.increment === \"down\") {\r\n                recipe.scale -= 1;\r\n              }\r\n            }\r\n          }\r\n          return recipe;\r\n        });\r\n        this.setState({\r\n          apiThisweekrecipies: tmpThisweekrecipies\r\n        });\r\n        // Distant\r\n        apiSetThisweekRecipeScale(details.recipeid, details.increment);\r\n        break;\r\n      case \"cookItem\":\r\n        // Local\r\n        tmpThisweekrecipies = this.state.apiThisweekrecipies;\r\n        tmpThisweekrecipies.map((recipe) => {\r\n          if (recipe._id === details.recipeid) {\r\n            if (recipe.cooked === true) {\r\n              recipe.cooked = false;\r\n            } else {\r\n              recipe.cooked = true;\r\n            }\r\n          }\r\n          return recipe;\r\n        });\r\n        this.setState({\r\n          apiThisweekrecipies: tmpThisweekrecipies\r\n        });\r\n        // Distant\r\n        apiSetThisweekRecipePrepare(details.recipeid);\r\n        break;\r\n      case \"openIngredient\":\r\n        this.handleIngredient(\"openItem\", details);\r\n        break;\r\n      case \"loadMyrecipies\":\r\n        this.api(\"LoadMyrecipies\");\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n  handleMyrecipies(action, details) {\r\n    if (process.env.REACT_APP_DEBUG === \"true\") {\r\n      console.log(\"App.handleMyrecipies \" + action);\r\n    }\r\n    console.log(\"App.handleMyrecipies \" + action);\r\n    switch (action) {\r\n      case \"openMenu\":\r\n        this.handleMenu(\"open\");\r\n        break;\r\n      case \"reload\":\r\n        this.api(\"LoadMyrecipies\");\r\n        break;\r\n      case \"openRecipe\":\r\n        this.handleRecipe(\"openItem\", details);\r\n        break;\r\n      case \"selectRecipe\":\r\n        this.handleRecipe(\"selectItem\", details);\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n  handleThisweek(action, details) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"App.handleThisweek \" + action);\r\n    }\r\n    console.log(\"App.handleThisweek \" + action);\r\n    switch (action) {\r\n      case \"openMenu\":\r\n        this.handleMenu(\"open\");\r\n        break;\r\n      case \"empty\":\r\n        // Local\r\n        this.setState({\r\n          apiThisweekrecipies: []\r\n        });\r\n        // Distant\r\n        apiSetThisweekEmpty().then((res) => {\r\n          switch (res.status) {\r\n            case 200:\r\n              /*this.setState({\r\n                openSnack: true,\r\n                snack: appcopy[\"thisweek\"][\"snack\"][\"selection emptied\"]\r\n              });*/\r\n              break;\r\n            case 400:\r\n              this.setState({\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n              });\r\n              break;\r\n            default:\r\n              this.setState((prevState, props) => ({\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errorunknown\"]\r\n              }));\r\n          }\r\n        });\r\n        break;\r\n      case \"renew\":\r\n        apiSetThisweekRenew().then((res) => {\r\n          switch (res.status) {\r\n            case 200:\r\n              this.setState({\r\n                apiThisweekrecipies: res.recipies\r\n              });\r\n              this.setState({\r\n                openSnack: true,\r\n                snack: appcopy[\"thisweek\"][\"snack\"][\"selection renewed\"]\r\n              });\r\n              break;\r\n            case 304:\r\n              this.setState({\r\n                openSnack: true,\r\n                snack:\r\n                  appcopy[\"thisweek\"][\"snack\"][\r\n                    \"304 - no more unselected recipies\"\r\n                  ]\r\n              });\r\n              break;\r\n            case 400:\r\n              this.setState({\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n              });\r\n              break;\r\n            default:\r\n              this.setState((prevState, props) => ({\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errorunknown\"]\r\n              }));\r\n          }\r\n        });\r\n        break;\r\n      case \"add\":\r\n        apiSetThisweekRecipeAdd().then((res) => {\r\n          switch (res.status) {\r\n            case 200:\r\n              let currentSelection = this.state.apiThisweekrecipies;\r\n              currentSelection.push(res.recipe);\r\n              this.setState({\r\n                apiThisweekrecipies: currentSelection\r\n              });\r\n              /*this.setState({\r\n                openSnack: true,\r\n                snack: appcopy[\"thisweek\"][\"snack\"][\"recipe added\"]\r\n              });*/\r\n              break;\r\n            case 208:\r\n              this.setState({\r\n                openSnack: true,\r\n                snack:\r\n                  appcopy[\"thisweek\"][\"snack\"][\r\n                    \"208 - no more unselected recipies\"\r\n                  ]\r\n              });\r\n              break;\r\n            case 400:\r\n              this.setState({\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n              });\r\n              break;\r\n            default:\r\n              this.setState((prevState, props) => ({\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errorunknown\"]\r\n              }));\r\n          }\r\n        });\r\n        break;\r\n      case \"remove\":\r\n        this.handleRecipe(\"selectItem\", details);\r\n        break;\r\n      case \"replace\":\r\n        apiSetThisweekRecipeReplace(details.recipeid).then(\r\n          this.api(\"LoadThisweekrecipies\")\r\n        );\r\n        break;\r\n      case \"scale\":\r\n        // Local\r\n        this.handleRecipe(\"scaleItem\", details);\r\n        // Distant\r\n        apiSetThisweekRecipeScale(details.recipeid, details.increment);\r\n        break;\r\n      case \"cook\":\r\n        // Local\r\n        this.handleRecipe(\"cookItem\", details);\r\n        // Distant\r\n        apiSetThisweekRecipePrepare(details.recipeid);\r\n        break;\r\n      case \"reload\":\r\n        this.api(\"LoadThisweekrecipies\");\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n  handleFridge(action, details) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"App.handleFridge \" + action);\r\n    }\r\n    console.log(\"App.handleFridge \" + action);\r\n    let tmpList = [];\r\n    switch (action) {\r\n      case \"openMenu\":\r\n        this.handleMenu(\"open\");\r\n        break;\r\n      case \"empty\":\r\n        // Local\r\n        tmpList = this.state.apiThisweekingredients;\r\n        tmpList.map((item) => {\r\n          item.available = 0;\r\n          return item;\r\n        });\r\n        this.setState({\r\n          apiThisweekingredients: tmpList\r\n        });\r\n        // Distant\r\n        apiSetFridgeEmpty().then((res) => {\r\n          switch (res.status) {\r\n            case 200:\r\n              this.setState({\r\n                openSnack: true,\r\n                snack: appcopy[\"fridge\"][\"snack\"][\"emptied\"]\r\n              });\r\n              break;\r\n            case 400:\r\n              this.setState({\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n              });\r\n              break;\r\n            default:\r\n              this.setState((prevState, props) => ({\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errorunknown\"]\r\n              }));\r\n          }\r\n        });\r\n        break;\r\n      case \"have\":\r\n        // Local\r\n        tmpList = this.state.apiThisweekingredients;\r\n        let tmpITem = {};\r\n        tmpList.map((item) => {\r\n          if (item._id === details.ingredientid) {\r\n            if (item.available === item.quantity) {\r\n              item.available = 0;\r\n            } else {\r\n              item.available = item.quantity;\r\n            }\r\n            tmpITem = item;\r\n          }\r\n          return item;\r\n        });\r\n        this.setState({\r\n          apiThisweekingredients: tmpList\r\n        });\r\n        // Distant\r\n        apiSetFridgeHave(tmpITem);\r\n        break;\r\n      case \"reload\":\r\n        this.api(\"LoadThisweekingredients\");\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n  handleShopping(action, details) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"App.handleShopping \" + action);\r\n    }\r\n    console.log(\"App.handleShopping \" + action);\r\n    let tmpList = [];\r\n    switch (action) {\r\n      case \"openMenu\":\r\n        this.handleMenu(\"open\");\r\n        break;\r\n      case \"empty\":\r\n        // Local\r\n        tmpList = this.state.apiThisweekingredients;\r\n        tmpList.map((item) => {\r\n          item.shopped = 0;\r\n          return item;\r\n        });\r\n        this.setState({\r\n          apiThisweekingredients: tmpList\r\n        });\r\n        // Distant\r\n        apiSetShoppingEmpty().then((res) => {\r\n          switch (res.status) {\r\n            case 200:\r\n              this.setState({\r\n                openSnack: true,\r\n                snack: appcopy[\"shopping\"][\"snack\"][\"emptied\"]\r\n              });\r\n              break;\r\n            case 400:\r\n              this.setState({\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errornetwork\"]\r\n              });\r\n              break;\r\n            default:\r\n              this.setState((prevState, props) => ({\r\n                openSnack: true,\r\n                snack: appcopy[\"generic\"][\"snack\"][\"errorunknown\"]\r\n              }));\r\n          }\r\n        });\r\n        break;\r\n      case \"take\":\r\n        // Local\r\n        tmpList = this.state.apiThisweekingredients;\r\n        let tmpITem = {};\r\n        tmpList.map((item) => {\r\n          if (item._id === details.ingredientid) {\r\n            if (item.shopped === item.quantity - (item.available || 0)) {\r\n              item.shopped = 0;\r\n            } else {\r\n              item.shopped = item.quantity - (item.available || 0);\r\n            }\r\n            tmpITem = item;\r\n          }\r\n          return item;\r\n        });\r\n        this.setState({\r\n          apiThisweekingredients: tmpList\r\n        });\r\n        // Distant\r\n        apiSetShoppingTake(tmpITem);\r\n        break;\r\n      case \"reload\":\r\n        this.api(\"LoadThisweekingredients\");\r\n        break;\r\n      case \"addingredient\":\r\n        console.log(\"App.handleShopping.addingredient TODO\");\r\n        break;\r\n      case \"addtofridge\":\r\n        // Local\r\n        tmpList = this.state.apiThisweekingredients;\r\n        tmpList.map((item) => {\r\n          item.available = (item.available || 0) + (item.shopped || 0);\r\n          return item;\r\n        });\r\n        this.setState({\r\n          apiThisweekingredients: tmpList\r\n        });\r\n        // Distant\r\n        apiSetShoppingAddtofridge();\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n  handleBalance(action) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"App.handleBalance \" + action);\r\n    }\r\n    console.log(\"App.handleBalance \" + action);\r\n    switch (action) {\r\n      case \"openMenu\":\r\n        this.handleMenu(\"open\");\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n  handleSnack(action) {\r\n    if (process.env.REACT_APP_DEBUG === \"TRUE\") {\r\n      console.log(\"App.handleSnack \" + action);\r\n    }\r\n    console.log(\"App.handleSnack \" + action);\r\n    switch (action) {\r\n      case \"close\":\r\n        this.setState((prevState, props) => ({\r\n          openSnack: false\r\n        }));\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n}\r\n\r\nfunction AppTabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={\"navtabpanel-\" + index}\r\n      aria-labelledby={\"navtab-\" + index}\r\n      {...other}\r\n    >\r\n      {value === index && <Box>{children}</Box>}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./app/App\";\nimport appcopy from \"./app/copy\";\n\nconsole.log(\"NODE_ENV = '\" + process.env.NODE_ENV + \"'\");\nconsole.log(\"REACT_APP_DEBUG = '\" + process.env.REACT_APP_DEBUG + \"'\");\nconsole.log(\n  \"REACT_APP_SERVER_URL_PROD = '\" + process.env.REACT_APP_SERVER_URL_PROD + \"'\"\n);\nconsole.log(\n  \"REACT_APP_SERVER_URL_DEV = '\" + process.env.REACT_APP_SERVER_URL_DEV + \"'\"\n);\nconsole.log(\"REACT_APP_LANGUAGE = '\" + process.env.REACT_APP_LANGUAGE + \"'\");\n\nvar SELECTED_LANGUAGE = \"EN\";\nswitch (process.env.NODE_ENV) {\n  case \"development\":\n    SELECTED_LANGUAGE = \"EN\";\n    break;\n  case \"preview\":\n    SELECTED_LANGUAGE = process.env.REACT_APP_LANGUAGE;\n    break;\n  case \"production\":\n    SELECTED_LANGUAGE = process.env.REACT_APP_LANGUAGE;\n    break;\n  default:\n    SELECTED_LANGUAGE = \"EN\";\n}\nconsole.log(\"SELECTED_LANGUAGE = '\" + SELECTED_LANGUAGE + \"'\");\n\nconsole.log(\n  \"Example copy : \" +\n    appcopy[\"generic\"][\"snack\"][\"errornetwork\"][SELECTED_LANGUAGE]\n);\n\n//console.log(process.env);\n\nReactDOM.render(\n  <App language={SELECTED_LANGUAGE} />,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}